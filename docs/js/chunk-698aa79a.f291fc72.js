(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-698aa79a"],{"0325":function(e,t,n){e.exports={default:n("bcd6"),__esModule:!0}},"03d6":function(e,t,n){var r=n("9c0e"),i=n("6ca1"),o=n("39ad")(!1),s=n("5a94")("IE_PROTO");e.exports=function(e,t){var n,a=i(e),u=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~o(l,n)||l.push(n));return l}},"051b":function(e,t,n){var r=n("1a14"),i=n("10db");e.exports=n("0bad")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"05f5":function(e,t,n){var r=n("7a41"),i=n("ef08").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"0983":function(e,t,n){var r=n("c901");e.exports=function(e){return Object(r(e))}},"0ae2":function(e,t,n){var r=n("9876"),i=n("fed5"),o=n("1917");e.exports=function(e){var t=r(e),n=i.f;if(n)for(var s,a=n(e),u=o.f,l=0;a.length>l;)u.call(e,s=a[l++])&&t.push(s);return t}},"0b99":function(e,t,n){"use strict";var r=n("19fa")(!0);n("393a")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},"0bad":function(e,t,n){e.exports=!n("4b8b")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"0eb4":function(e,t,n){var r=n("7a41"),i=n("77e9"),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n("9c0c")(Function.call,n("4d20").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},1098:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n("17ed")),i=s(n("f893")),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},"10db":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},1368:function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,o=void 0,s=void 0,a=function(e,t){_[i]=e,_[i+1]=t,2===(i+=2)&&(s?s(p):b())},u="undefined"!=typeof window?window:void 0,l=u||{},c=l.MutationObserver||l.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(p,1)}}var _=new Array(1e3);function p(){for(var e=0;e<i;e+=2)(0,_[e])(_[e+1]),_[e]=void 0,_[e+1]=void 0;i=0}var m,g,v,y,b=void 0;function w(e,t){var n=this,r=new this.constructor(A);void 0===r[S]&&I(r);var i=n._state;if(i){var o=arguments[i-1];a((function(){return M(i,r,o,n._result)}))}else C(n,r,e,t);return r}function E(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(A);return R(t,e),t}h?b=function(){return t.nextTick(p)}:c?(g=0,v=new c(p),y=document.createTextNode(""),v.observe(y,{characterData:!0}),b=function(){y.data=g=++g%2}):d?((m=new MessageChannel).port1.onmessage=p,b=function(){return m.port2.postMessage(0)}):b=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(p)}:f()}catch(e){return f()}}():f();var S=Math.random().toString(36).substring(2);function A(){}function L(t,n,r){n.constructor===t.constructor&&r===w&&n.constructor.resolve===E?function(e,t){1===t._state?T(e,t._result):2===t._state?k(e,t._result):C(t,void 0,(function(t){return R(e,t)}),(function(t){return k(e,t)}))}(t,n):void 0===r?T(t,n):e(r)?function(e,t,n){a((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?R(e,n):T(e,n))}),(function(t){r||(r=!0,k(e,t))}),e._label);!r&&i&&(r=!0,k(e,i))}),e)}(t,n,r):T(t,n)}function R(e,t){if(e===t)k(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=t),null===r||"object"!==i&&"function"!==i)T(e,t);else{var n=void 0;try{n=t.then}catch(t){return void k(e,t)}L(e,t,n)}var r,i}function O(e){e._onerror&&e._onerror(e._result),x(e)}function T(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&a(x,e))}function k(e,t){void 0===e._state&&(e._state=2,e._result=t,a(O,e))}function C(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+1]=n,i[o+2]=r,0===o&&e._state&&a(x,e)}function x(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?M(n,r,i,o):i(o);e._subscribers.length=0}}function M(t,n,r,i){var o=e(r),s=void 0,a=void 0,u=!0;if(o){try{s=r(i)}catch(e){u=!1,a=e}if(n===s)return void k(n,new TypeError("A promises callback cannot return that same promise."))}else s=i;void 0!==n._state||(o&&u?R(n,s):!1===u?k(n,a):1===t?T(n,s):2===t&&k(n,s))}var D=0;function I(e){e[S]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}var P=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[S]||I(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&T(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===E){var i=void 0,o=void 0,s=!1;try{i=e.then}catch(e){s=!0,o=e}if(i===w&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===B){var a=new n(A);s?k(a,o):L(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?k(r,n):this._result[t]=n),0===this._remaining&&T(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;C(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),B=function(){function t(e){this[S]=D++,this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){R(e,t)}),(function(t){k(e,t)}))}catch(t){k(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return B.prototype.then=w,B.all=function(e){return new P(this,e).promise},B.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},B.resolve=E,B.reject=function(e){var t=new this(A);return k(t,e),t},B._setScheduler=function(e){s=e},B._setAsap=function(e){a=e},B._asap=a,B.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=B},B.Promise=B,B},e.exports=r()}).call(this,n("4362"),n("24aa"))},"158c":function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("1098"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},1609:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"17ed":function(e,t,n){e.exports={default:n("511f"),__esModule:!0}},1836:function(e,t,n){var r=n("6ca1"),i=n("6438").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(r(e))}},1917:function(e,t){t.f={}.propertyIsEnumerable},1947:function(e,t,n){"use strict";n.r(t);class r{static install(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");let t=Object(e);for(let e=1;e<arguments.length;e++){let n=arguments[e];if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}return t},"function"!=typeof self.Promise&&n("1368").polyfill()}}r.install();var i=r,o=n("faa1"),s=n.n(o);class a{static e(e,t){e&&!a.FORCE_GLOBAL_TAG||(e=a.GLOBAL_TAG);let n=`[${e}] > ${t}`;a.ENABLE_CALLBACK&&a.emitter.emit("log","error",n),a.ENABLE_ERROR&&(console.error?console.error(n):console.warn?console.warn(n):console.log(n))}static i(e,t){e&&!a.FORCE_GLOBAL_TAG||(e=a.GLOBAL_TAG);let n=`[${e}] > ${t}`;a.ENABLE_CALLBACK&&a.emitter.emit("log","info",n),a.ENABLE_INFO&&(console.info?console.info(n):console.log(n))}static w(e,t){e&&!a.FORCE_GLOBAL_TAG||(e=a.GLOBAL_TAG);let n=`[${e}] > ${t}`;a.ENABLE_CALLBACK&&a.emitter.emit("log","warn",n),a.ENABLE_WARN&&(console.warn?console.warn(n):console.log(n))}static d(e,t){e&&!a.FORCE_GLOBAL_TAG||(e=a.GLOBAL_TAG);let n=`[${e}] > ${t}`;a.ENABLE_CALLBACK&&a.emitter.emit("log","debug",n),a.ENABLE_DEBUG&&(console.debug?console.debug(n):console.log(n))}static v(e,t){e&&!a.FORCE_GLOBAL_TAG||(e=a.GLOBAL_TAG);let n=`[${e}] > ${t}`;a.ENABLE_CALLBACK&&a.emitter.emit("log","verbose",n),a.ENABLE_VERBOSE&&console.log(n)}}a.GLOBAL_TAG="flv.js",a.FORCE_GLOBAL_TAG=!1,a.ENABLE_ERROR=!0,a.ENABLE_INFO=!0,a.ENABLE_WARN=!0,a.ENABLE_DEBUG=!0,a.ENABLE_VERBOSE=!0,a.ENABLE_CALLBACK=!1,a.emitter=new s.a;var u=a;var l=class{constructor(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}reset(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}addBytes(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())}get currentKBps(){this.addBytes(0);let e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}get lastSecondKBps(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}get averageKBps(){let e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024}};class c{constructor(e){this._message=e}get name(){return"RuntimeException"}get message(){return this._message}toString(){return this.name+": "+this.message}}class h extends c{constructor(e){super(e)}get name(){return"IllegalStateException"}}class d extends c{constructor(e){super(e)}get name(){return"InvalidArgumentException"}}class f extends c{constructor(e){super(e)}get name(){return"NotImplementedException"}}const _={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},p={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"};class m{constructor(e){this._type=e||"undefined",this._status=_.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}destroy(){this._status=_.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}isWorking(){return this._status===_.kConnecting||this._status===_.kBuffering}get type(){return this._type}get status(){return this._status}get needStashBuffer(){return this._needStash}get onContentLengthKnown(){return this._onContentLengthKnown}set onContentLengthKnown(e){this._onContentLengthKnown=e}get onURLRedirect(){return this._onURLRedirect}set onURLRedirect(e){this._onURLRedirect=e}get onDataArrival(){return this._onDataArrival}set onDataArrival(e){this._onDataArrival=e}get onError(){return this._onError}set onError(e){this._onError=e}get onComplete(){return this._onComplete}set onComplete(e){this._onComplete=e}open(e,t){throw new f("Unimplemented abstract function!")}abort(){throw new f("Unimplemented abstract function!")}}let g={};!function(){let e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],n=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],r={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:n[0]||""},i={};if(r.browser){i[r.browser]=!0;let e=r.majorVersion.split(".");i.version={major:parseInt(r.majorVersion,10),string:r.version},e.length>1&&(i.version.minor=parseInt(e[1],10)),e.length>2&&(i.version.build=parseInt(e[2],10))}if(r.platform&&(i[r.platform]=!0),(i.chrome||i.opr||i.safari)&&(i.webkit=!0),i.rv||i.iemobile){i.rv&&delete i.rv;let e="msie";r.browser=e,i[e]=!0}if(i.edge){delete i.edge;let e="msedge";r.browser=e,i[e]=!0}if(i.opr){let e="opera";r.browser=e,i[e]=!0}if(i.safari&&i.android){let e="android";r.browser=e,i[e]=!0}i.name=r.browser,i.platform=r.platform;for(let e in g)g.hasOwnProperty(e)&&delete g[e];Object.assign(g,i)}();var v=g;var y=class extends m{static isSupported(){try{let e=v.msedge&&v.version.minor>=15048,t=!v.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}}constructor(e,t){super("fetch-stream-loader"),this.TAG="FetchStreamLoader",this._seekHandler=e,this._config=t,this._needStash=!0,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),super.destroy()}open(e,t){this._dataSource=e,this._range=t;let n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);let r=this._seekHandler.getConfig(n,t),i=new self.Headers;if("object"==typeof r.headers){let e=r.headers;for(let t in e)e.hasOwnProperty(t)&&i.append(t,e[t])}let o={method:"GET",headers:i,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(let e in this._config.headers)i.append(e,this._config.headers[e]);!1===e.cors&&(o.mode="same-origin"),e.withCredentials&&(o.credentials="include"),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),this._status=_.kConnecting,self.fetch(r.url,o).then(e=>{if(this._requestAbort)return this._requestAbort=!1,void(this._status=_.kIdle);if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==r.url&&this._onURLRedirect){let t=this._seekHandler.removeURLParameters(e.url);this._onURLRedirect(t)}let t=e.headers.get("Content-Length");return null!=t&&(this._contentLength=parseInt(t),0!==this._contentLength&&this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)),this._pump.call(this,e.body.getReader())}if(this._status=_.kError,!this._onError)throw new c("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);this._onError(p.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(e=>{if(this._status=_.kError,!this._onError)throw e;this._onError(p.EXCEPTION,{code:-1,msg:e.message})})}abort(){this._requestAbort=!0}_pump(e){return e.read().then(t=>{if(t.done)if(null!==this._contentLength&&this._receivedLength<this._contentLength){this._status=_.kError;let e=p.EARLY_EOF,t={code:-1,msg:"Fetch stream meet Early-EOF"};if(!this._onError)throw new c(t.msg);this._onError(e,t)}else this._status=_.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1);else{if(!0===this._requestAbort)return this._requestAbort=!1,this._status=_.kComplete,e.cancel();this._status=_.kBuffering;let n=t.value.buffer,r=this._range.from+this._receivedLength;this._receivedLength+=n.byteLength,this._onDataArrival&&this._onDataArrival(n,r,this._receivedLength),this._pump(e)}}).catch(e=>{if(11===e.code&&v.msedge)return;this._status=_.kError;let t=0,n=null;if(19!==e.code&&"network error"!==e.message||!(null===this._contentLength||null!==this._contentLength&&this._receivedLength<this._contentLength)?(t=p.EXCEPTION,n={code:e.code,msg:e.message}):(t=p.EARLY_EOF,n={code:e.code,msg:"Fetch stream meet Early-EOF"}),!this._onError)throw new c(n.msg);this._onError(t,n)})}};var b=class extends m{static isSupported(){try{let e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return u.w("MozChunkedLoader",e.message),!1}}constructor(e,t){super("xhr-moz-chunked-loader"),this.TAG="MozChunkedLoader",this._seekHandler=e,this._config=t,this._needStash=!0,this._xhr=null,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}open(e,t){this._dataSource=e,this._range=t;let n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);let r=this._seekHandler.getConfig(n,t);this._requestURL=r.url;let i=this._xhr=new XMLHttpRequest;if(i.open("GET",r.url,!0),i.responseType="moz-chunked-arraybuffer",i.onreadystatechange=this._onReadyStateChange.bind(this),i.onprogress=this._onProgress.bind(this),i.onloadend=this._onLoadEnd.bind(this),i.onerror=this._onXhrError.bind(this),e.withCredentials&&(i.withCredentials=!0),"object"==typeof r.headers){let e=r.headers;for(let t in e)e.hasOwnProperty(t)&&i.setRequestHeader(t,e[t])}if("object"==typeof this._config.headers){let e=this._config.headers;for(let t in e)e.hasOwnProperty(t)&&i.setRequestHeader(t,e[t])}this._status=_.kConnecting,i.send()}abort(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=_.kComplete}_onReadyStateChange(e){let t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){let e=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(e)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=_.kError,!this._onError)throw new c("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(p.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=_.kBuffering}}_onProgress(e){if(this._status===_.kError)return;null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));let t=e.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}_onLoadEnd(e){!0!==this._requestAbort?this._status!==_.kError&&(this._status=_.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}_onXhrError(e){this._status=_.kError;let t=0,n=null;if(this._contentLength&&e.loaded<this._contentLength?(t=p.EARLY_EOF,n={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=p.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new c(n.msg);this._onError(t,n)}};var w=class extends m{static isSupported(){try{let e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return u.w("RangeLoader",e.message),!1}}constructor(e,t){super("xhr-range-loader"),this.TAG="RangeLoader",this._seekHandler=e,this._config=t,this._needStash=!1,this._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],this._currentChunkSizeKB=384,this._currentSpeedNormalized=0,this._zeroSpeedChunkCount=0,this._xhr=null,this._speedSampler=new l,this._requestAbort=!1,this._waitForTotalLength=!1,this._totalLengthReceived=!1,this._currentRequestURL=null,this._currentRedirectedURL=null,this._currentRequestRange=null,this._totalLength=null,this._contentLength=null,this._receivedLength=0,this._lastTimeLoaded=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}get currentSpeed(){return this._speedSampler.lastSecondKBps}open(e,t){this._dataSource=e,this._range=t,this._status=_.kConnecting;let n=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(n=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||n?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}_openSubRange(){let e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,n=t+e;null!=this._contentLength&&n-this._range.from>=this._contentLength&&(n=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:n},this._internalOpen(this._dataSource,this._currentRequestRange)}_internalOpen(e,t){this._lastTimeLoaded=0;let n=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?n=this._currentRedirectedURL:null!=e.redirectedURL&&(n=e.redirectedURL));let r=this._seekHandler.getConfig(n,t);this._currentRequestURL=r.url;let i=this._xhr=new XMLHttpRequest;if(i.open("GET",r.url,!0),i.responseType="arraybuffer",i.onreadystatechange=this._onReadyStateChange.bind(this),i.onprogress=this._onProgress.bind(this),i.onload=this._onLoad.bind(this),i.onerror=this._onXhrError.bind(this),e.withCredentials&&(i.withCredentials=!0),"object"==typeof r.headers){let e=r.headers;for(let t in e)e.hasOwnProperty(t)&&i.setRequestHeader(t,e[t])}if("object"==typeof this._config.headers){let e=this._config.headers;for(let t in e)e.hasOwnProperty(t)&&i.setRequestHeader(t,e[t])}i.send()}abort(){this._requestAbort=!0,this._internalAbort(),this._status=_.kComplete}_internalAbort(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}_onReadyStateChange(e){let t=e.target;if(2===t.readyState){if(null!=t.responseURL){let e=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&e!==this._currentRedirectedURL&&(this._currentRedirectedURL=e,this._onURLRedirect&&this._onURLRedirect(e))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=_.kBuffering}else{if(this._status=_.kError,!this._onError)throw new c("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(p.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}}_onProgress(e){if(this._status===_.kError)return;if(null===this._contentLength){let t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;let n=e.total;this._internalAbort(),null!=n&0!==n&&(this._totalLength=n)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}let t=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(t)}_normalizeSpeed(e){let t=this._chunkSizeKBList,n=t.length-1,r=0,i=0,o=n;if(e<t[0])return t[0];for(;i<=o;){if(r=i+Math.floor((o-i)/2),r===n||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?i=r+1:o=r-1}}_onLoad(e){if(this._status===_.kError)return;if(this._waitForTotalLength)return void(this._waitForTotalLength=!1);this._lastTimeLoaded=0;let t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){let e=this._normalizeSpeed(t);this._currentSpeedNormalized!==e&&(this._currentSpeedNormalized=e,this._currentChunkSizeKB=e)}let n=e.target.response,r=this._range.from+this._receivedLength;this._receivedLength+=n.byteLength;let i=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():i=!0,this._onDataArrival&&this._onDataArrival(n,r,this._receivedLength),i&&(this._status=_.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}_onXhrError(e){this._status=_.kError;let t=0,n=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=p.EARLY_EOF,n={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=p.EXCEPTION,n={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new c(n.msg);this._onError(t,n)}};var E=class extends m{static isSupported(){try{return void 0!==self.WebSocket}catch(e){return!1}}constructor(){super("websocket-loader"),this.TAG="WebSocketLoader",this._needStash=!0,this._ws=null,this._requestAbort=!1,this._receivedLength=0}destroy(){this._ws&&this.abort(),super.destroy()}open(e){try{let t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=_.kConnecting}catch(e){this._status=_.kError;let t={code:e.code,msg:e.message};if(!this._onError)throw new c(t.msg);this._onError(p.EXCEPTION,t)}}abort(){let e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=_.kComplete}_onWebSocketOpen(e){this._status=_.kBuffering}_onWebSocketClose(e){!0!==this._requestAbort?(this._status=_.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}_onWebSocketMessage(e){if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){let t=new FileReader;t.onload=()=>{this._dispatchArrayBuffer(t.result)},t.readAsArrayBuffer(e.data)}else{this._status=_.kError;let t={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new c(t.msg);this._onError(p.EXCEPTION,t)}}_dispatchArrayBuffer(e){let t=e,n=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,n,this._receivedLength)}_onWebSocketError(e){this._status=_.kError;let t={code:e.code,msg:e.message};if(!this._onError)throw new c(t.msg);this._onError(p.EXCEPTION,t)}};var S=class{constructor(e){this._zeroStart=e||!1}getConfig(e,t){let n={};if(0!==t.from||-1!==t.to){let e;e=-1!==t.to?`bytes=${t.from.toString()}-${t.to.toString()}`:`bytes=${t.from.toString()}-`,n.Range=e}else this._zeroStart&&(n.Range="bytes=0-");return{url:e,headers:n}}removeURLParameters(e){return e}};var A=class{constructor(e,t){this._startName=e,this._endName=t}getConfig(e,t){let n=e;if(0!==t.from||-1!==t.to){let e=!0;-1===n.indexOf("?")&&(n+="?",e=!1),e&&(n+="&"),n+=`${this._startName}=${t.from.toString()}`,-1!==t.to&&(n+=`&${this._endName}=${t.to.toString()}`)}return{url:n,headers:{}}}removeURLParameters(e){let t=e.split("?")[0],n=void 0,r=e.indexOf("?");-1!==r&&(n=e.substring(r+1));let i="";if(null!=n&&n.length>0){let e=n.split("&");for(let t=0;t<e.length;t++){let n=e[t].split("="),r=t>0;n[0]!==this._startName&&n[0]!==this._endName&&(r&&(i+="&"),i+=e[t])}}return 0===i.length?t:t+"?"+i}};var L=class{constructor(e,t,n){this.TAG="IOController",this._config=t,this._extraData=n,this._stashInitialSize=393216,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new l,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}destroy(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}isWorking(){return this._loader&&this._loader.isWorking()&&!this._paused}isPaused(){return this._paused}get status(){return this._loader.status}get extraData(){return this._extraData}set extraData(e){this._extraData=e}get onDataArrival(){return this._onDataArrival}set onDataArrival(e){this._onDataArrival=e}get onSeeked(){return this._onSeeked}set onSeeked(e){this._onSeeked=e}get onError(){return this._onError}set onError(e){this._onError=e}get onComplete(){return this._onComplete}set onComplete(e){this._onComplete=e}get onRedirect(){return this._onRedirect}set onRedirect(e){this._onRedirect=e}get onRecoveredEarlyEof(){return this._onRecoveredEarlyEof}set onRecoveredEarlyEof(e){this._onRecoveredEarlyEof=e}get currentURL(){return this._dataSource.url}get hasRedirect(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL}get currentRedirectedURL(){return this._redirectedURL||this._dataSource.redirectedURL}get currentSpeed(){return this._loaderClass===w?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}get loaderType(){return this._loader.type}_selectSeekHandler(){let e=this._config;if("range"===e.seekType)this._seekHandler=new S(this._config.rangeLoadZeroStart);else if("param"===e.seekType){let t=e.seekParamStart||"bstart",n=e.seekParamEnd||"bend";this._seekHandler=new A(t,n)}else{if("custom"!==e.seekType)throw new d("Invalid seekType in config: "+e.seekType);if("function"!=typeof e.customSeekHandler)throw new d("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}}_selectLoader(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=E;else if(y.isSupported())this._loaderClass=y;else if(b.isSupported())this._loaderClass=b;else{if(!w.isSupported())throw new c("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=w}}_createLoader(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}open(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}abort(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}pause(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}resume(){if(this._paused){this._paused=!1;let e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}}seek(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)}_internalSeek(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;let n={from:e,to:-1};this._currentRange={from:n.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,n),this._onSeeked&&this._onSeeked()}updateUrl(e){if(!e||"string"!=typeof e||0===e.length)throw new d("Url must be a non-empty string!");this._dataSource.url=e}_expandBuffer(e){let t=this._stashSize;for(;t+1048576<e;)t*=2;if(t+=1048576,t===this._bufferSize)return;let n=new ArrayBuffer(t);if(this._stashUsed>0){let e=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(n,0,t).set(e,0)}this._stashBuffer=n,this._bufferSize=t}_normalizeSpeed(e){let t=this._speedNormalizeList,n=t.length-1,r=0,i=0,o=n;if(e<t[0])return t[0];for(;i<=o;){if(r=i+Math.floor((o-i)/2),r===n||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?i=r+1:o=r-1}}_adjustStashSize(e){let t=0;t=this._config.isLive||e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e,t>8192&&(t=8192);let n=1024*t+1048576;this._bufferSize<n&&this._expandBuffer(n),this._stashSize=1024*t}_dispatchChunks(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)}_onURLRedirect(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)}_onContentLengthKnown(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)}_onLoaderChunkArrival(e,t,n){if(!this._onDataArrival)throw new h("IOController: No existing consumer (onDataArrival) callback!");if(this._paused)return;this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);let r=this._speedSampler.lastSecondKBps;if(0!==r){let e=this._normalizeSpeed(r);this._speedNormalized!==e&&(this._speedNormalized=e,this._adjustStashSize(e))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize){new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{let n=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){let t=this._stashBuffer.slice(0,this._stashUsed),r=this._dispatchChunks(t,this._stashByteStart);if(r<t.byteLength){if(r>0){let e=new Uint8Array(t,r);n.set(e,0),this._stashUsed=e.byteLength,this._stashByteStart+=r}}else this._stashUsed=0,this._stashByteStart+=r;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),n=new Uint8Array(this._stashBuffer,0,this._bufferSize)),n.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{let r=this._dispatchChunks(e,t);if(r<e.byteLength){let i=e.byteLength-r;i>this._bufferSize&&(this._expandBuffer(i),n=new Uint8Array(this._stashBuffer,0,this._bufferSize)),n.set(new Uint8Array(e,r),0),this._stashUsed+=i,this._stashByteStart=t+r}}}else if(0===this._stashUsed){let n=this._dispatchChunks(e,t);if(n<e.byteLength){let r=e.byteLength-n;r>this._bufferSize&&this._expandBuffer(r),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(e,n),0),this._stashUsed+=r,this._stashByteStart=t+n}}else{this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength);let t=new Uint8Array(this._stashBuffer,0,this._bufferSize);t.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;let n=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(n<this._stashUsed&&n>0){let e=new Uint8Array(this._stashBuffer,n);t.set(e,0)}this._stashUsed-=n,this._stashByteStart+=n}}_flushStashBuffer(e){if(this._stashUsed>0){let t=this._stashBuffer.slice(0,this._stashUsed),n=this._dispatchChunks(t,this._stashByteStart),r=t.byteLength-n;if(n<t.byteLength){if(!e){if(n>0){let e=new Uint8Array(this._stashBuffer,0,this._bufferSize),r=new Uint8Array(t,n);e.set(r,0),this._stashUsed=r.byteLength,this._stashByteStart+=n}return 0}u.w(this.TAG,r+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,r}return 0}_onLoaderComplete(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}_onLoaderError(e,t){switch(u.e(this.TAG,`Loader error, code = ${t.code}, msg = ${t.msg}`),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=p.UNRECOVERABLE_EARLY_EOF),e){case p.EARLY_EOF:if(!this._config.isLive&&this._totalLength){let e=this._currentRange.to+1;return void(e<this._totalLength&&(u.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(e,!1)))}e=p.UNRECOVERABLE_EARLY_EOF}if(!this._onError)throw new c("IOException: "+t.msg);this._onError(e,t)}};const R={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function O(){return Object.assign({},R)}class T{static supportMSEH264Playback(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}static supportNetworkStreamIO(){let e=new L({},O()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t}static getNetworkLoaderTypeName(){let e=new L({},O()),t=e.loaderType;return e.destroy(),t}static supportNativeMediaPlayback(e){null==T.videoElement&&(T.videoElement=window.document.createElement("video"));let t=T.videoElement.canPlayType(e);return"probably"===t||"maybe"==t}static getFeatureList(){let e={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return e.mseFlvPlayback=T.supportMSEH264Playback(),e.networkStreamIO=T.supportNetworkStreamIO(),e.networkLoaderName=T.getNetworkLoaderTypeName(),e.mseLiveFlvPlayback=e.mseFlvPlayback&&e.networkStreamIO,e.nativeMP4H264Playback=T.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),e.nativeWebmVP8Playback=T.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),e.nativeWebmVP9Playback=T.supportNativeMediaPlayback('video/webm; codecs="vp9"'),e}}var k=T;var C={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};class x{static get forceGlobalTag(){return u.FORCE_GLOBAL_TAG}static set forceGlobalTag(e){u.FORCE_GLOBAL_TAG=e,x._notifyChange()}static get globalTag(){return u.GLOBAL_TAG}static set globalTag(e){u.GLOBAL_TAG=e,x._notifyChange()}static get enableAll(){return u.ENABLE_VERBOSE&&u.ENABLE_DEBUG&&u.ENABLE_INFO&&u.ENABLE_WARN&&u.ENABLE_ERROR}static set enableAll(e){u.ENABLE_VERBOSE=e,u.ENABLE_DEBUG=e,u.ENABLE_INFO=e,u.ENABLE_WARN=e,u.ENABLE_ERROR=e,x._notifyChange()}static get enableDebug(){return u.ENABLE_DEBUG}static set enableDebug(e){u.ENABLE_DEBUG=e,x._notifyChange()}static get enableVerbose(){return u.ENABLE_VERBOSE}static set enableVerbose(e){u.ENABLE_VERBOSE=e,x._notifyChange()}static get enableInfo(){return u.ENABLE_INFO}static set enableInfo(e){u.ENABLE_INFO=e,x._notifyChange()}static get enableWarn(){return u.ENABLE_WARN}static set enableWarn(e){u.ENABLE_WARN=e,x._notifyChange()}static get enableError(){return u.ENABLE_ERROR}static set enableError(e){u.ENABLE_ERROR=e,x._notifyChange()}static getConfig(){return{globalTag:u.GLOBAL_TAG,forceGlobalTag:u.FORCE_GLOBAL_TAG,enableVerbose:u.ENABLE_VERBOSE,enableDebug:u.ENABLE_DEBUG,enableInfo:u.ENABLE_INFO,enableWarn:u.ENABLE_WARN,enableError:u.ENABLE_ERROR,enableCallback:u.ENABLE_CALLBACK}}static applyConfig(e){u.GLOBAL_TAG=e.globalTag,u.FORCE_GLOBAL_TAG=e.forceGlobalTag,u.ENABLE_VERBOSE=e.enableVerbose,u.ENABLE_DEBUG=e.enableDebug,u.ENABLE_INFO=e.enableInfo,u.ENABLE_WARN=e.enableWarn,u.ENABLE_ERROR=e.enableError,u.ENABLE_CALLBACK=e.enableCallback}static _notifyChange(){let e=x.emitter;if(e.listenerCount("change")>0){let t=x.getConfig();e.emit("change",t)}}static registerListener(e){x.emitter.addListener("change",e)}static removeListener(e){x.emitter.removeListener("change",e)}static addLogListener(e){u.emitter.addListener("log",e),u.emitter.listenerCount("log")>0&&(u.ENABLE_CALLBACK=!0,x._notifyChange())}static removeLogListener(e){u.emitter.removeListener("log",e),0===u.emitter.listenerCount("log")&&(u.ENABLE_CALLBACK=!1,x._notifyChange())}}x.emitter=new s.a;var M=x;var D=class{constructor(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}isComplete(){let e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t}isSeekable(){return!0===this.hasKeyframesIndex}getNearestKeyframe(e){if(null==this.keyframesIndex)return null;let t=this.keyframesIndex,n=this._search(t.times,e);return{index:n,milliseconds:t.times[n],fileposition:t.filepositions[n]}}_search(e,t){let n=0,r=e.length-1,i=0,o=0,s=r;for(t<e[0]&&(n=0,o=s+1);o<=s;){if(i=o+Math.floor((s-o)/2),i===r||t>=e[i]&&t<e[i+1]){n=i;break}e[i]<t?o=i+1:s=i-1}return n}};function I(e,t,n){let r=e;if(t+n<r.length){for(;n--;)if(128!=(192&r[++t]))return!1;return!0}return!1}var P=function(e){let t=[],n=e,r=0,i=e.length;for(;r<i;)if(n[r]<128)t.push(String.fromCharCode(n[r])),++r;else{if(n[r]<192);else if(n[r]<224){if(I(n,r,1)){let e=(31&n[r])<<6|63&n[r+1];if(e>=128){t.push(String.fromCharCode(65535&e)),r+=2;continue}}}else if(n[r]<240){if(I(n,r,2)){let e=(15&n[r])<<12|(63&n[r+1])<<6|63&n[r+2];if(e>=2048&&55296!=(63488&e)){t.push(String.fromCharCode(65535&e)),r+=3;continue}}}else if(n[r]<248&&I(n,r,3)){let e=(7&n[r])<<18|(63&n[r+1])<<12|(63&n[r+2])<<6|63&n[r+3];if(e>65536&&e<1114112){e-=65536,t.push(String.fromCharCode(e>>>10|55296)),t.push(String.fromCharCode(1023&e|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join("")};let B=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}();class N{static parseScriptData(e,t,n){let r={};try{let i=N.parseValue(e,t,n),o=N.parseValue(e,t+i.size,n-i.size);r[i.data]=o.data}catch(e){u.e("AMF",e.toString())}return r}static parseObject(e,t,n){if(n<3)throw new h("Data not enough when parse ScriptDataObject");let r=N.parseString(e,t,n),i=N.parseValue(e,t+r.size,n-r.size),o=i.objectEnd;return{data:{name:r.data,value:i.data},size:r.size+i.size,objectEnd:o}}static parseVariable(e,t,n){return N.parseObject(e,t,n)}static parseString(e,t,n){if(n<2)throw new h("Data not enough when parse String");let r,i=new DataView(e,t,n).getUint16(0,!B);return r=i>0?P(new Uint8Array(e,t+2,i)):"",{data:r,size:2+i}}static parseLongString(e,t,n){if(n<4)throw new h("Data not enough when parse LongString");let r,i=new DataView(e,t,n).getUint32(0,!B);return r=i>0?P(new Uint8Array(e,t+4,i)):"",{data:r,size:4+i}}static parseDate(e,t,n){if(n<10)throw new h("Data size invalid when parse Date");let r=new DataView(e,t,n),i=r.getFloat64(0,!B);return i+=60*r.getInt16(8,!B)*1e3,{data:new Date(i),size:10}}static parseValue(e,t,n){if(n<1)throw new h("Data not enough when parse Value");let r,i=new DataView(e,t,n),o=1,s=i.getUint8(0),a=!1;try{switch(s){case 0:r=i.getFloat64(1,!B),o+=8;break;case 1:r=!!i.getUint8(1),o+=1;break;case 2:{let i=N.parseString(e,t+1,n-1);r=i.data,o+=i.size;break}case 3:{r={};let s=0;for(9==(16777215&i.getUint32(n-4,!B))&&(s=3);o<n-4;){let i=N.parseObject(e,t+o,n-o-s);if(i.objectEnd)break;r[i.data.name]=i.data.value,o+=i.size}if(o<=n-3){9===(16777215&i.getUint32(o-1,!B))&&(o+=3)}break}case 8:{r={},o+=4;let s=0;for(9==(16777215&i.getUint32(n-4,!B))&&(s=3);o<n-8;){let i=N.parseVariable(e,t+o,n-o-s);if(i.objectEnd)break;r[i.data.name]=i.data.value,o+=i.size}if(o<=n-3){9===(16777215&i.getUint32(o-1,!B))&&(o+=3)}break}case 9:r=void 0,o=1,a=!0;break;case 10:{r=[];let s=i.getUint32(1,!B);o+=4;for(let i=0;i<s;i++){let i=N.parseValue(e,t+o,n-o);r.push(i.data),o+=i.size}break}case 11:{let i=N.parseDate(e,t+1,n-1);r=i.data,o+=i.size;break}case 12:{let i=N.parseString(e,t+1,n-1);r=i.data,o+=i.size;break}default:o=n,u.w("AMF","Unsupported AMF value type "+s)}}catch(e){u.e("AMF",e.toString())}return{data:r,size:o,objectEnd:a}}}var U=N;var F=class{constructor(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}destroy(){this._buffer=null}_fillCurrentWord(){let e=this._total_bytes-this._buffer_index;if(e<=0)throw new h("ExpGolomb: _fillCurrentWord() but no bytes available");let t=Math.min(4,e),n=new Uint8Array(4);n.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(n.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}readBits(e){if(e>32)throw new d("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){let t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}let t=this._current_word_bits_left?this._current_word:0;t>>>=32-this._current_word_bits_left;let n=e-this._current_word_bits_left;this._fillCurrentWord();let r=Math.min(n,this._current_word_bits_left),i=this._current_word>>>32-r;return this._current_word<<=r,this._current_word_bits_left-=r,t=t<<r|i,t}readBool(){return 1===this.readBits(1)}readByte(){return this.readBits(8)}_skipLeadingZero(){let e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}readUEG(){let e=this._skipLeadingZero();return this.readBits(e+1)-1}readSEG(){let e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}};class j{static _ebsp2rbsp(e){let t=e,n=t.byteLength,r=new Uint8Array(n),i=0;for(let e=0;e<n;e++)e>=2&&3===t[e]&&0===t[e-1]&&0===t[e-2]||(r[i]=t[e],i++);return new Uint8Array(r.buffer,0,i)}static parseSPS(e){let t=j._ebsp2rbsp(e),n=new F(t);n.readByte();let r=n.readByte();n.readByte();let i=n.readByte();n.readUEG();let o=j.getProfileString(r),s=j.getLevelString(i),a=1,u=420,l=[0,420,422,444],c=8;if((100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r||138===r||144===r)&&(a=n.readUEG(),3===a&&n.readBits(1),a<=3&&(u=l[a]),c=n.readUEG()+8,n.readUEG(),n.readBits(1),n.readBool())){let e=3!==a?8:12;for(let t=0;t<e;t++)n.readBool()&&(t<6?j._skipScalingList(n,16):j._skipScalingList(n,64))}n.readUEG();let h=n.readUEG();if(0===h)n.readUEG();else if(1===h){n.readBits(1),n.readSEG(),n.readSEG();let e=n.readUEG();for(let t=0;t<e;t++)n.readSEG()}let d=n.readUEG();n.readBits(1);let f=n.readUEG(),_=n.readUEG(),p=n.readBits(1);0===p&&n.readBits(1),n.readBits(1);let m=0,g=0,v=0,y=0;n.readBool()&&(m=n.readUEG(),g=n.readUEG(),v=n.readUEG(),y=n.readUEG());let b=1,w=1,E=0,S=!0,A=0,L=0;if(n.readBool()){if(n.readBool()){let e=n.readByte(),t=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],r=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];e>0&&e<16?(b=t[e-1],w=r[e-1]):255===e&&(b=n.readByte()<<8|n.readByte(),w=n.readByte()<<8|n.readByte())}if(n.readBool()&&n.readBool(),n.readBool()&&(n.readBits(4),n.readBool()&&n.readBits(24)),n.readBool()&&(n.readUEG(),n.readUEG()),n.readBool()){let e=n.readBits(32),t=n.readBits(32);S=n.readBool(),A=t,L=2*e,E=A/L}}let R=1;1===b&&1===w||(R=b/w);let O=0,T=0;if(0===a)O=1,T=2-p;else{O=3===a?1:2,T=(1===a?2:1)*(2-p)}let k=16*(f+1),C=16*(_+1)*(2-p);k-=(m+g)*O,C-=(v+y)*T;let x=Math.ceil(k*R);return n.destroy(),n=null,{profile_string:o,level_string:s,bit_depth:c,ref_frames:d,chroma_format:u,chroma_format_string:j.getChromaFormatString(u),frame_rate:{fixed:S,fps:E,fps_den:L,fps_num:A},sar_ratio:{width:b,height:w},codec_size:{width:k,height:C},present_size:{width:x,height:C}}}static _skipScalingList(e,t){let n=8,r=8,i=0;for(let o=0;o<t;o++)0!==r&&(i=e.readSEG(),r=(n+i+256)%256),n=0===r?n:r}static getProfileString(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}static getLevelString(e){return(e/10).toFixed(1)}static getChromaFormatString(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}var G=j;var V={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};class z{constructor(e,t){this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new D,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}destroy(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null}static probe(e){let t=new Uint8Array(e),n={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return n;let r=(4&t[4])>>>2!=0,i=0!=(1&t[4]),o=(s=t)[a=5]<<24|s[a+1]<<16|s[a+2]<<8|s[a+3];var s,a;return o<9?n:{match:!0,consumed:o,dataOffset:o,hasAudioTrack:r,hasVideoTrack:i}}bindDataSource(e){return e.onDataArrival=this.parseChunks.bind(this),this}get onTrackMetadata(){return this._onTrackMetadata}set onTrackMetadata(e){this._onTrackMetadata=e}get onMediaInfo(){return this._onMediaInfo}set onMediaInfo(e){this._onMediaInfo=e}get onMetaDataArrived(){return this._onMetaDataArrived}set onMetaDataArrived(e){this._onMetaDataArrived=e}get onScriptDataArrived(){return this._onScriptDataArrived}set onScriptDataArrived(e){this._onScriptDataArrived=e}get onError(){return this._onError}set onError(e){this._onError=e}get onDataAvailable(){return this._onDataAvailable}set onDataAvailable(e){this._onDataAvailable=e}get timestampBase(){return this._timestampBase}set timestampBase(e){this._timestampBase=e}get overridedDuration(){return this._duration}set overridedDuration(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}set overridedHasAudio(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}set overridedHasVideo(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}resetMediaInfo(){this._mediaInfo=new D}_isInitialMetadataDispatched(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}parseChunks(e,t){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new h("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");let n=0,r=this._littleEndian;if(0===t){if(!(e.byteLength>13))return 0;n=z.probe(e).dataOffset}if(this._firstParse){this._firstParse=!1,t+n!==this._dataOffset&&u.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(e,n).getUint32(0,!r)&&u.w(this.TAG,"PrevTagSize0 !== 0 !!!"),n+=4}for(;n<e.byteLength;){this._dispatch=!0;let i=new DataView(e,n);if(n+11+4>e.byteLength)break;let o=i.getUint8(0),s=16777215&i.getUint32(0,!r);if(n+11+s+4>e.byteLength)break;if(8!==o&&9!==o&&18!==o){u.w(this.TAG,`Unsupported tag type ${o}, skipped`),n+=11+s+4;continue}let a=i.getUint8(4),l=i.getUint8(5),c=i.getUint8(6)|l<<8|a<<16|i.getUint8(7)<<24;0!==(16777215&i.getUint32(7,!r))&&u.w(this.TAG,"Meet tag which has StreamID != 0!");let h=n+11;switch(o){case 8:this._parseAudioData(e,h,s,c);break;case 9:this._parseVideoData(e,h,s,c,t+n);break;case 18:this._parseScriptData(e,h,s)}let d=i.getUint32(11+s,!r);d!==11+s&&u.w(this.TAG,"Invalid PrevTagSize "+d),n+=11+s+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),n}_parseScriptData(e,t,n){let r=U.parseScriptData(e,t,n);if(r.hasOwnProperty("onMetaData")){if(null==r.onMetaData||"object"!=typeof r.onMetaData)return void u.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&u.w(this.TAG,"Found another onMetaData tag!"),this._metadata=r;let e=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},e)),"boolean"==typeof e.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=e.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof e.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=e.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof e.audiodatarate&&(this._mediaInfo.audioDataRate=e.audiodatarate),"number"==typeof e.videodatarate&&(this._mediaInfo.videoDataRate=e.videodatarate),"number"==typeof e.width&&(this._mediaInfo.width=e.width),"number"==typeof e.height&&(this._mediaInfo.height=e.height),"number"==typeof e.duration){if(!this._durationOverrided){let t=Math.floor(e.duration*this._timescale);this._duration=t,this._mediaInfo.duration=t}}else this._mediaInfo.duration=0;if("number"==typeof e.framerate){let t=Math.floor(1e3*e.framerate);if(t>0){let e=t/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=e,this._referenceFrameRate.fps_num=t,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=e}}if("object"==typeof e.keyframes){this._mediaInfo.hasKeyframesIndex=!0;let t=e.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(t),e.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=e,u.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(r).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},r))}_parseKeyframesIndex(e){let t=[],n=[];for(let r=1;r<e.times.length;r++){let i=this._timestampBase+Math.floor(1e3*e.times[r]);t.push(i),n.push(e.filepositions[r])}return{times:t,filepositions:n}}_parseAudioData(e,t,n,r){if(n<=1)return void u.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");if(!0===this._hasAudioFlagOverrided&&!1===this._hasAudio)return;this._littleEndian;let i=new DataView(e,t,n).getUint8(0),o=i>>>4;if(2!==o&&10!==o)return void this._onError(V.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+o);let s=0,a=(12&i)>>>2;if(!(a>=0&&a<=4))return void this._onError(V.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+a);s=this._flvSoundRateTable[a];let l=1&i,c=this._audioMetadata,h=this._audioTrack;if(c||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),c=this._audioMetadata={},c.type="audio",c.id=h.id,c.timescale=this._timescale,c.duration=this._duration,c.audioSampleRate=s,c.channelCount=0===l?1:2),10===o){let i=this._parseAACAudioData(e,t+1,n-1);if(null==i)return;if(0===i.packetType){c.config&&u.w(this.TAG,"Found another AudioSpecificConfig!");let e=i.data;c.audioSampleRate=e.samplingRate,c.channelCount=e.channelCount,c.codec=e.codec,c.originalCodec=e.originalCodec,c.config=e.config,c.refSampleDuration=1024/c.audioSampleRate*c.timescale,u.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",c);let t=this._mediaInfo;t.audioCodec=c.originalCodec,t.audioSampleRate=c.audioSampleRate,t.audioChannelCount=c.channelCount,t.hasVideo?null!=t.videoCodec&&(t.mimeType='video/x-flv; codecs="'+t.videoCodec+","+t.audioCodec+'"'):t.mimeType='video/x-flv; codecs="'+t.audioCodec+'"',t.isComplete()&&this._onMediaInfo(t)}else if(1===i.packetType){let e=this._timestampBase+r,t={unit:i.data,length:i.data.byteLength,dts:e,pts:e};h.samples.push(t),h.length+=i.data.length}else u.e(this.TAG,"Flv: Unsupported AAC data type "+i.packetType)}else if(2===o){if(!c.codec){let r=this._parseMP3AudioData(e,t+1,n-1,!0);if(null==r)return;c.audioSampleRate=r.samplingRate,c.channelCount=r.channelCount,c.codec=r.codec,c.originalCodec=r.originalCodec,c.refSampleDuration=1152/c.audioSampleRate*c.timescale,u.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",c);let i=this._mediaInfo;i.audioCodec=c.codec,i.audioSampleRate=c.audioSampleRate,i.audioChannelCount=c.channelCount,i.audioDataRate=r.bitRate,i.hasVideo?null!=i.videoCodec&&(i.mimeType='video/x-flv; codecs="'+i.videoCodec+","+i.audioCodec+'"'):i.mimeType='video/x-flv; codecs="'+i.audioCodec+'"',i.isComplete()&&this._onMediaInfo(i)}let i=this._parseMP3AudioData(e,t+1,n-1,!1);if(null==i)return;let o=this._timestampBase+r,s={unit:i,length:i.byteLength,dts:o,pts:o};h.samples.push(s),h.length+=i.length}}_parseAACAudioData(e,t,n){if(n<=1)return void u.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");let r={},i=new Uint8Array(e,t,n);return r.packetType=i[0],0===i[0]?r.data=this._parseAACAudioSpecificConfig(e,t+1,n-1):r.data=i.subarray(1),r}_parseAACAudioSpecificConfig(e,t,n){let r=new Uint8Array(e,t,n),i=null,o=0,s=0,a=null,u=0,l=null;if(o=s=r[0]>>>3,u=(7&r[0])<<1|r[1]>>>7,u<0||u>=this._mpegSamplingRates.length)return void this._onError(V.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");let c=this._mpegSamplingRates[u],h=(120&r[1])>>>3;if(h<0||h>=8)return void this._onError(V.FORMAT_ERROR,"Flv: AAC invalid channel configuration");5===o&&(l=(7&r[1])<<1|r[2]>>>7,a=(124&r[2])>>>2);let d=self.navigator.userAgent.toLowerCase();return-1!==d.indexOf("firefox")?u>=6?(o=5,i=new Array(4),l=u-3):(o=2,i=new Array(2),l=u):-1!==d.indexOf("android")?(o=2,i=new Array(2),l=u):(o=5,l=u,i=new Array(4),u>=6?l=u-3:1===h&&(o=2,i=new Array(2),l=u)),i[0]=o<<3,i[0]|=(15&u)>>>1,i[1]=(15&u)<<7,i[1]|=(15&h)<<3,5===o&&(i[1]|=(15&l)>>>1,i[2]=(1&l)<<7,i[2]|=8,i[3]=0),{config:i,samplingRate:c,channelCount:h,codec:"mp4a.40."+o,originalCodec:"mp4a.40."+s}}_parseMP3AudioData(e,t,n,r){if(n<4)return void u.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");this._littleEndian;let i=new Uint8Array(e,t,n),o=null;if(r){if(255!==i[0])return;let e=i[1]>>>3&3,t=(6&i[1])>>1,n=(240&i[2])>>>4,r=(12&i[2])>>>2,s=3!==(i[3]>>>6&3)?2:1,a=0,u=0,l=34,c="mp3";switch(e){case 0:a=this._mpegAudioV25SampleRateTable[r];break;case 2:a=this._mpegAudioV20SampleRateTable[r];break;case 3:a=this._mpegAudioV10SampleRateTable[r]}switch(t){case 1:l=34,n<this._mpegAudioL3BitRateTable.length&&(u=this._mpegAudioL3BitRateTable[n]);break;case 2:l=33,n<this._mpegAudioL2BitRateTable.length&&(u=this._mpegAudioL2BitRateTable[n]);break;case 3:l=32,n<this._mpegAudioL1BitRateTable.length&&(u=this._mpegAudioL1BitRateTable[n])}o={bitRate:u,samplingRate:a,channelCount:s,codec:c,originalCodec:c}}else o=i;return o}_parseVideoData(e,t,n,r,i){if(n<=1)return void u.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");if(!0===this._hasVideoFlagOverrided&&!1===this._hasVideo)return;let o=new Uint8Array(e,t,n)[0],s=(240&o)>>>4,a=15&o;7===a?this._parseAVCVideoPacket(e,t+1,n-1,r,i,s):this._onError(V.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+a)}_parseAVCVideoPacket(e,t,n,r,i,o){if(n<4)return void u.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");let s=this._littleEndian,a=new DataView(e,t,n),l=a.getUint8(0),c=(16777215&a.getUint32(0,!s))<<8>>8;if(0===l)this._parseAVCDecoderConfigurationRecord(e,t+4,n-4);else if(1===l)this._parseAVCVideoData(e,t+4,n-4,r,i,o,c);else if(2!==l)return void this._onError(V.FORMAT_ERROR,"Flv: Invalid video packet type "+l)}_parseAVCDecoderConfigurationRecord(e,t,n){if(n<7)return void u.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");let r=this._videoMetadata,i=this._videoTrack,o=this._littleEndian,s=new DataView(e,t,n);r?void 0!==r.avcc&&u.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),r=this._videoMetadata={},r.type="video",r.id=i.id,r.timescale=this._timescale,r.duration=this._duration);let a=s.getUint8(0),l=s.getUint8(1);s.getUint8(2),s.getUint8(3);if(1!==a||0===l)return void this._onError(V.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");if(this._naluLengthSize=1+(3&s.getUint8(4)),3!==this._naluLengthSize&&4!==this._naluLengthSize)return void this._onError(V.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));let c=31&s.getUint8(5);if(0===c)return void this._onError(V.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");c>1&&u.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+c);let h=6;for(let n=0;n<c;n++){let i=s.getUint16(h,!o);if(h+=2,0===i)continue;let a=new Uint8Array(e,t+h,i);h+=i;let u=G.parseSPS(a);if(0!==n)continue;r.codecWidth=u.codec_size.width,r.codecHeight=u.codec_size.height,r.presentWidth=u.present_size.width,r.presentHeight=u.present_size.height,r.profile=u.profile_string,r.level=u.level_string,r.bitDepth=u.bit_depth,r.chromaFormat=u.chroma_format,r.sarRatio=u.sar_ratio,r.frameRate=u.frame_rate,!1!==u.frame_rate.fixed&&0!==u.frame_rate.fps_num&&0!==u.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);let l=r.frameRate.fps_den,c=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(l/c);let d=a.subarray(1,4),f="avc1.";for(let e=0;e<3;e++){let t=d[e].toString(16);t.length<2&&(t="0"+t),f+=t}r.codec=f;let _=this._mediaInfo;_.width=r.codecWidth,_.height=r.codecHeight,_.fps=r.frameRate.fps,_.profile=r.profile,_.level=r.level,_.refFrames=u.ref_frames,_.chromaFormat=u.chroma_format_string,_.sarNum=r.sarRatio.width,_.sarDen=r.sarRatio.height,_.videoCodec=f,_.hasAudio?null!=_.audioCodec&&(_.mimeType='video/x-flv; codecs="'+_.videoCodec+","+_.audioCodec+'"'):_.mimeType='video/x-flv; codecs="'+_.videoCodec+'"',_.isComplete()&&this._onMediaInfo(_)}let d=s.getUint8(h);if(0!==d){d>1&&u.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+d),h++;for(let e=0;e<d;e++){let e=s.getUint16(h,!o);h+=2,0!==e&&(h+=e)}r.avcc=new Uint8Array(n),r.avcc.set(new Uint8Array(e,t,n),0),u.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r)}else this._onError(V.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}_parseAVCVideoData(e,t,n,r,i,o,s){let a=this._littleEndian,l=new DataView(e,t,n),c=[],h=0,d=0;const f=this._naluLengthSize;let _=this._timestampBase+r,p=1===o;for(;d<n;){if(d+4>=n){u.w(this.TAG,`Malformed Nalu near timestamp ${_}, offset = ${d}, dataSize = ${n}`);break}let r=l.getUint32(d,!a);if(3===f&&(r>>>=8),r>n-f)return void u.w(this.TAG,`Malformed Nalus near timestamp ${_}, NaluSize > DataSize!`);let i=31&l.getUint8(d+f);5===i&&(p=!0);let o=new Uint8Array(e,t+d,f+r),s={type:i,data:o};c.push(s),h+=o.byteLength,d+=f+r}if(c.length){let e=this._videoTrack,t={units:c,length:h,isKeyframe:p,dts:_,cts:s,pts:_+s};p&&(t.fileposition=i),e.samples.push(t),e.length+=h}}}var K=z;class H{static init(){H.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(let e in H.types)H.types.hasOwnProperty(e)&&(H.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);let e=H.constants={};e.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),e.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),e.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSC=e.STCO=e.STTS,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),e.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),e.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static box(e){let t=8,n=null,r=Array.prototype.slice.call(arguments,1),i=r.length;for(let e=0;e<i;e++)t+=r[e].byteLength;n=new Uint8Array(t),n[0]=t>>>24&255,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n.set(e,4);let o=8;for(let e=0;e<i;e++)n.set(r[e],o),o+=r[e].byteLength;return n}static generateInitSegment(e){let t=H.box(H.types.ftyp,H.constants.FTYP),n=H.moov(e),r=new Uint8Array(t.byteLength+n.byteLength);return r.set(t,0),r.set(n,t.byteLength),r}static moov(e){let t=H.mvhd(e.timescale,e.duration),n=H.trak(e),r=H.mvex(e);return H.box(H.types.moov,t,n,r)}static mvhd(e,t){return H.box(H.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}static trak(e){return H.box(H.types.trak,H.tkhd(e),H.mdia(e))}static tkhd(e){let t=e.id,n=e.duration,r=e.presentWidth,i=e.presentHeight;return H.box(H.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,i>>>8&255,255&i,0,0]))}static mdia(e){return H.box(H.types.mdia,H.mdhd(e),H.hdlr(e),H.minf(e))}static mdhd(e){let t=e.timescale,n=e.duration;return H.box(H.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,85,196,0,0]))}static hdlr(e){let t=null;return t="audio"===e.type?H.constants.HDLR_AUDIO:H.constants.HDLR_VIDEO,H.box(H.types.hdlr,t)}static minf(e){let t=null;return t="audio"===e.type?H.box(H.types.smhd,H.constants.SMHD):H.box(H.types.vmhd,H.constants.VMHD),H.box(H.types.minf,t,H.dinf(),H.stbl(e))}static dinf(){return H.box(H.types.dinf,H.box(H.types.dref,H.constants.DREF))}static stbl(e){return H.box(H.types.stbl,H.stsd(e),H.box(H.types.stts,H.constants.STTS),H.box(H.types.stsc,H.constants.STSC),H.box(H.types.stsz,H.constants.STSZ),H.box(H.types.stco,H.constants.STCO))}static stsd(e){return"audio"===e.type?"mp3"===e.codec?H.box(H.types.stsd,H.constants.STSD_PREFIX,H.mp3(e)):H.box(H.types.stsd,H.constants.STSD_PREFIX,H.mp4a(e)):H.box(H.types.stsd,H.constants.STSD_PREFIX,H.avc1(e))}static mp3(e){let t=e.channelCount,n=e.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return H.box(H.types[".mp3"],r)}static mp4a(e){let t=e.channelCount,n=e.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return H.box(H.types.mp4a,r,H.esds(e))}static esds(e){let t=e.config||[],n=t.length,r=new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(t).concat([6,1,2]));return H.box(H.types.esds,r)}static avc1(e){let t=e.avcc,n=e.codecWidth,r=e.codecHeight,i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return H.box(H.types.avc1,i,H.box(H.types.avcC,t))}static mvex(e){return H.box(H.types.mvex,H.trex(e))}static trex(e){let t=e.id,n=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return H.box(H.types.trex,n)}static moof(e,t){return H.box(H.types.moof,H.mfhd(e.sequenceNumber),H.traf(e,t))}static mfhd(e){let t=new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e]);return H.box(H.types.mfhd,t)}static traf(e,t){let n=e.id,r=H.box(H.types.tfhd,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),i=H.box(H.types.tfdt,new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t])),o=H.sdtp(e),s=H.trun(e,o.byteLength+16+16+8+16+8+8);return H.box(H.types.traf,r,i,s,o)}static sdtp(e){let t=e.samples||[],n=t.length,r=new Uint8Array(4+n);for(let e=0;e<n;e++){let n=t[e].flags;r[e+4]=n.isLeading<<6|n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy}return H.box(H.types.sdtp,r)}static trun(e,t){let n=e.samples||[],r=n.length,i=12+16*r,o=new Uint8Array(i);t+=8+i,o.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0);for(let e=0;e<r;e++){let t=n[e].duration,r=n[e].size,i=n[e].flags,s=n[e].cts;o.set([t>>>24&255,t>>>16&255,t>>>8&255,255&t,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i.isLeading<<2|i.dependsOn,i.isDependedOn<<6|i.hasRedundancy<<4|i.isNonSync,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s],12+16*e)}return H.box(H.types.trun,o)}static mdat(e){return H.box(H.types.mdat,e)}}H.init();var W=H;var q=class{static getSilentFrame(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}};class ${constructor(e,t,n,r,i){this.dts=e,this.pts=t,this.duration=n,this.originalDts=r,this.isSyncPoint=i,this.fileposition=null}}class Y{constructor(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}appendSyncPoint(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}class X{constructor(){this._list=[]}clear(){this._list=[]}appendArray(e){let t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}getLastSyncPointBeforeDts(e){if(0==this._list.length)return null;let t=this._list,n=0,r=t.length-1,i=0,o=0,s=r;for(e<t[0].dts&&(n=0,o=s+1);o<=s;){if(i=o+Math.floor((s-o)/2),i===r||e>=t[i].dts&&e<t[i+1].dts){n=i;break}t[i].dts<e?o=i+1:s=i-1}return this._list[n]}}class J{constructor(e){this._type=e,this._list=[],this._lastAppendLocation=-1}get type(){return this._type}get length(){return this._list.length}isEmpty(){return 0===this._list.length}clear(){this._list=[],this._lastAppendLocation=-1}_searchNearestSegmentBefore(e){let t=this._list;if(0===t.length)return-2;let n=t.length-1,r=0,i=0,o=n,s=0;if(e<t[0].originalBeginDts)return s=-1,s;for(;i<=o;){if(r=i+Math.floor((o-i)/2),r===n||e>t[r].lastSample.originalDts&&e<t[r+1].originalBeginDts){s=r;break}t[r].originalBeginDts<e?i=r+1:o=r-1}return s}_searchNearestSegmentAfter(e){return this._searchNearestSegmentBefore(e)+1}append(e){let t=this._list,n=e,r=this._lastAppendLocation,i=0;-1!==r&&r<t.length&&n.originalBeginDts>=t[r].lastSample.originalDts&&(r===t.length-1||r<t.length-1&&n.originalBeginDts<t[r+1].originalBeginDts)?i=r+1:t.length>0&&(i=this._searchNearestSegmentBefore(n.originalBeginDts)+1),this._lastAppendLocation=i,this._list.splice(i,0,n)}getLastSegmentBefore(e){let t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null}getLastSampleBefore(e){let t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}getLastSyncPointBefore(e){let t=this._searchNearestSegmentBefore(e),n=this._list[t].syncPoints;for(;0===n.length&&t>0;)t--,n=this._list[t].syncPoints;return n.length>0?n[n.length-1]:null}}var Q=class{constructor(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new J("audio"),this._videoSegmentInfoList=new J("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!v.chrome||!(v.version.major<50||50===v.version.major&&v.version.build<2661)),this._fillSilentAfterSeek=v.msedge||v.msie,this._mp3UseMpegAudio=!v.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}destroy(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}bindDataSource(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}get onInitSegment(){return this._onInitSegment}set onInitSegment(e){this._onInitSegment=e}get onMediaSegment(){return this._onMediaSegment}set onMediaSegment(e){this._onMediaSegment=e}insertDiscontinuity(){this._audioNextDts=this._videoNextDts=void 0}seek(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}remux(e,t){if(!this._onMediaSegment)throw new h("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}_onTrackMetadataReceived(e,t){let n=null,r="mp4",i=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(r="mpeg",i="",n=new Uint8Array):n=W.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,n=W.generateInitSegment(t)}if(!this._onInitSegment)throw new h("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:n.buffer,codec:i,container:`${e}/${r}`,mediaDuration:t.duration})}_calculateDtsBase(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}flushStashedSamples(){let e=this._videoStashedLastSample,t=this._audioStashedLastSample,n={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(n.samples.push(e),n.length=e.length);let r={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(r.samples.push(t),r.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(n,!0),this._remuxAudio(r,!0)}_remuxAudio(e,t){if(null==this._audioMeta)return;let n=e,r=n.samples,i=void 0,o=-1,s=-1,a=this._audioMeta.refSampleDuration,l="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,c=this._dtsBaseInited&&void 0===this._audioNextDts,h=!1;if(!r||0===r.length)return;if(1===r.length&&!t)return;let d=0,f=null,_=0;l?(d=0,_=n.length):(d=8,_=8+n.length);let p=null;if(r.length>1&&(p=r.pop(),_-=p.length),null!=this._audioStashedLastSample){let e=this._audioStashedLastSample;this._audioStashedLastSample=null,r.unshift(e),_+=e.length}null!=p&&(this._audioStashedLastSample=p);let m=r[0].dts-this._dtsBase;if(this._audioNextDts)i=m-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())i=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(h=!0);else{let e=this._audioSegmentInfoList.getLastSampleBefore(m);if(null!=e){let t=m-(e.originalDts+e.duration);t<=3&&(t=0),i=m-(e.dts+e.duration+t)}else i=0}if(h){let e=m-i,t=this._videoSegmentInfoList.getLastSegmentBefore(m);if(null!=t&&t.beginDts<e){let n=q.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(n){let i=t.beginDts,o=e-t.beginDts;u.v(this.TAG,`InsertPrefixSilentAudio: dts: ${i}, duration: ${o}`),r.unshift({unit:n,dts:i,pts:i}),_+=n.byteLength}}else h=!1}let g=[];for(let e=0;e<r.length;e++){let t=r[e],n=t.unit,s=t.dts-this._dtsBase,l=s-i;-1===o&&(o=l);let c=0;if(e!==r.length-1){c=r[e+1].dts-this._dtsBase-i-l}else if(null!=p){c=p.dts-this._dtsBase-i-l}else c=g.length>=1?g[g.length-1].duration:Math.floor(a);let h=!1,d=null;if(c>1.5*a&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!v.safari){h=!0;let e=Math.abs(c-a),t=Math.ceil(e/a),r=l+a;u.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\ndts: ${l+c} ms, expected: ${l+Math.round(a)} ms, delta: ${Math.round(e)} ms, generate: ${t} frames`);let i=q.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==i&&(u.w(this.TAG,`Unable to generate silent frame for ${this._audioMeta.originalCodec} with ${this._audioMeta.channelCount} channels, repeat last frame`),i=n),d=[];for(let e=0;e<t;e++){let e=Math.round(r);if(d.length>0){let t=d[d.length-1];t.duration=e-t.dts}let t={dts:e,pts:e,cts:0,unit:i,size:i.byteLength,duration:0,originalDts:s,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};d.push(t),_+=t.size,r+=a}let o=d[d.length-1];o.duration=l+c-o.dts,c=Math.round(a)}g.push({dts:l,pts:l,cts:0,unit:t.unit,size:t.unit.byteLength,duration:c,originalDts:s,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),h&&g.push.apply(g,d)}l?f=new Uint8Array(_):(f=new Uint8Array(_),f[0]=_>>>24&255,f[1]=_>>>16&255,f[2]=_>>>8&255,f[3]=255&_,f.set(W.types.mdat,4));for(let e=0;e<g.length;e++){let t=g[e].unit;f.set(t,d),d+=t.byteLength}let y=g[g.length-1];s=y.dts+y.duration,this._audioNextDts=s;let b=new Y;b.beginDts=o,b.endDts=s,b.beginPts=o,b.endPts=s,b.originalBeginDts=g[0].originalDts,b.originalEndDts=y.originalDts+y.duration,b.firstSample=new $(g[0].dts,g[0].pts,g[0].duration,g[0].originalDts,!1),b.lastSample=new $(y.dts,y.pts,y.duration,y.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(b),n.samples=g,n.sequenceNumber++;let w=null;w=l?new Uint8Array:W.moof(n,o),n.samples=[],n.length=0;let E={type:"audio",data:this._mergeBoxes(w,f).buffer,sampleCount:g.length,info:b};l&&c&&(E.timestampOffset=o),this._onMediaSegment("audio",E)}_remuxVideo(e,t){if(null==this._videoMeta)return;let n=e,r=n.samples,i=void 0,o=-1,s=-1,a=-1,u=-1;if(!r||0===r.length)return;if(1===r.length&&!t)return;let l=8,c=null,h=8+e.length,d=null;if(r.length>1&&(d=r.pop(),h-=d.length),null!=this._videoStashedLastSample){let e=this._videoStashedLastSample;this._videoStashedLastSample=null,r.unshift(e),h+=e.length}null!=d&&(this._videoStashedLastSample=d);let f=r[0].dts-this._dtsBase;if(this._videoNextDts)i=f-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())i=0;else{let e=this._videoSegmentInfoList.getLastSampleBefore(f);if(null!=e){let t=f-(e.originalDts+e.duration);t<=3&&(t=0),i=f-(e.dts+e.duration+t)}else i=0}let _=new Y,p=[];for(let e=0;e<r.length;e++){let t=r[e],n=t.dts-this._dtsBase,s=t.isKeyframe,u=n-i,l=t.cts,c=u+l;-1===o&&(o=u,a=c);let h=0;if(e!==r.length-1){h=r[e+1].dts-this._dtsBase-i-u}else if(null!=d){h=d.dts-this._dtsBase-i-u}else h=p.length>=1?p[p.length-1].duration:Math.floor(this._videoMeta.refSampleDuration);if(s){let e=new $(u,c,h,t.dts,!0);e.fileposition=t.fileposition,_.appendSyncPoint(e)}p.push({dts:u,pts:c,cts:l,units:t.units,size:t.length,isKeyframe:s,duration:h,originalDts:n,flags:{isLeading:0,dependsOn:s?2:1,isDependedOn:s?1:0,hasRedundancy:0,isNonSync:s?0:1}})}c=new Uint8Array(h),c[0]=h>>>24&255,c[1]=h>>>16&255,c[2]=h>>>8&255,c[3]=255&h,c.set(W.types.mdat,4);for(let e=0;e<p.length;e++){let t=p[e].units;for(;t.length;){let e=t.shift().data;c.set(e,l),l+=e.byteLength}}let m=p[p.length-1];if(s=m.dts+m.duration,u=m.pts+m.duration,this._videoNextDts=s,_.beginDts=o,_.endDts=s,_.beginPts=a,_.endPts=u,_.originalBeginDts=p[0].originalDts,_.originalEndDts=m.originalDts+m.duration,_.firstSample=new $(p[0].dts,p[0].pts,p[0].duration,p[0].originalDts,p[0].isKeyframe),_.lastSample=new $(m.dts,m.pts,m.duration,m.originalDts,m.isKeyframe),this._isLive||this._videoSegmentInfoList.append(_),n.samples=p,n.sequenceNumber++,this._forceFirstIDR){let e=p[0].flags;e.dependsOn=2,e.isNonSync=0}let g=W.moof(n,o);n.samples=[],n.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(g,c).buffer,sampleCount:p.length,info:_})}_mergeBoxes(e,t){let n=new Uint8Array(e.byteLength+t.byteLength);return n.set(e,0),n.set(t,e.byteLength),n}};var Z={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};var ee=class{constructor(e,t){this.TAG="TransmuxingController",this._emitter=new s.a,this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;let n=0;this._mediaDataSource.segments.forEach(r=>{r.timestampBase=n,n+=r.duration,r.cors=e.cors,r.withCredentials=e.withCredentials,t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy)}),isNaN(n)||this._mediaDataSource.duration===n||(this._mediaDataSource.duration=n),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}destroy(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}start(){this._loadSegment(0),this._enableStatisticsReporter()}_loadSegment(e,t){this._currentSegmentIndex=e;let n=this._mediaDataSource.segments[e],r=this._ioctl=new L(n,this._config,e);r.onError=this._onIOException.bind(this),r.onSeeked=this._onIOSeeked.bind(this),r.onComplete=this._onIOComplete.bind(this),r.onRedirect=this._onIORedirect.bind(this),r.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):r.onDataArrival=this._onInitChunkArrival.bind(this),r.open(t)}stop(){this._internalAbort(),this._disableStatisticsReporter()}_internalAbort(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}pause(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}resume(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}seek(e){if(null==this._mediaInfo||!this._mediaInfo.isSeekable())return;let t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){let n=this._mediaInfo.segments[t];if(null==n)this._pendingSeekTime=e;else{let t=n.getNearestKeyframe(e);this._remuxer.seek(t.milliseconds),this._ioctl.seek(t.fileposition),this._pendingResolveSeekPoint=t.milliseconds}}else{let n=this._mediaInfo.segments[t];if(null==n)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{let r=n.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,r.fileposition),this._pendingResolveSeekPoint=r.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}_searchSegmentIndexContains(e){let t=this._mediaDataSource.segments,n=t.length-1;for(let r=0;r<t.length;r++)if(e<t[r].timestampBase){n=r-1;break}return n}_onInitChunkArrival(e,t){let n=null,r=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,r=this._demuxer.parseChunks(e,t);else if((n=K.probe(e)).match){this._demuxer=new K(n,this._config),this._remuxer||(this._remuxer=new Q(this._config));let i=this._mediaDataSource;null==i.duration||isNaN(i.duration)||(this._demuxer.overridedDuration=i.duration),"boolean"==typeof i.hasAudio&&(this._demuxer.overridedHasAudio=i.hasAudio),"boolean"==typeof i.hasVideo&&(this._demuxer.overridedHasVideo=i.hasVideo),this._demuxer.timestampBase=i.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),r=this._demuxer.parseChunks(e,t)}else n=null,u.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(()=>{this._internalAbort()}),this._emitter.emit(Z.DEMUX_ERROR,V.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),r=0;return r}_onMediaInfo(e){null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,D.prototype));let t=Object.assign({},e);Object.setPrototypeOf(t,D.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=t,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(()=>{let e=this._pendingSeekTime;this._pendingSeekTime=null,this.seek(e)})}_onMetaDataArrived(e){this._emitter.emit(Z.METADATA_ARRIVED,e)}_onScriptDataArrived(e){this._emitter.emit(Z.SCRIPTDATA_ARRIVED,e)}_onIOSeeked(){this._remuxer.insertDiscontinuity()}_onIOComplete(e){let t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(Z.LOADING_COMPLETE),this._disableStatisticsReporter())}_onIORedirect(e){let t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e}_onIORecoveredEarlyEof(){this._emitter.emit(Z.RECOVERED_EARLY_EOF)}_onIOException(e,t){u.e(this.TAG,`IOException: type = ${e}, code = ${t.code}, msg = ${t.msg}`),this._emitter.emit(Z.IO_ERROR,e,t),this._disableStatisticsReporter()}_onDemuxException(e,t){u.e(this.TAG,`DemuxException: type = ${e}, info = ${t}`),this._emitter.emit(Z.DEMUX_ERROR,e,t)}_onRemuxerInitSegmentArrival(e,t){this._emitter.emit(Z.INIT_SEGMENT,e,t)}_onRemuxerMediaSegmentArrival(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(Z.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){let e=t.info.syncPoints,n=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,v.safari&&e.length>0&&e[0].originalDts===n&&(n=e[0].pts),this._emitter.emit(Z.RECOMMEND_SEEKPOINT,n)}}_enableStatisticsReporter(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}_disableStatisticsReporter(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}_reportSegmentMediaInfo(e){let t=this._mediaInfo.segments[e],n=Object.assign({},t);n.duration=this._mediaInfo.duration,n.segmentCount=this._mediaInfo.segmentCount,delete n.segments,delete n.keyframesIndex,this._emitter.emit(Z.MEDIA_INFO,n)}_reportStatisticsInfo(){let e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(Z.STATISTICS_INFO,e)}};var te=function(e){let t=null,n=function(t,n){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:n}})}.bind(this);function r(t,n){let r={msg:Z.INIT_SEGMENT,data:{type:t,data:n}};e.postMessage(r,[n.data])}function o(t,n){let r={msg:Z.MEDIA_SEGMENT,data:{type:t,data:n}};e.postMessage(r,[n.data])}function s(){let t={msg:Z.LOADING_COMPLETE};e.postMessage(t)}function a(){let t={msg:Z.RECOVERED_EARLY_EOF};e.postMessage(t)}function u(t){let n={msg:Z.MEDIA_INFO,data:t};e.postMessage(n)}function l(t){let n={msg:Z.METADATA_ARRIVED,data:t};e.postMessage(n)}function c(t){let n={msg:Z.SCRIPTDATA_ARRIVED,data:t};e.postMessage(n)}function h(t){let n={msg:Z.STATISTICS_INFO,data:t};e.postMessage(n)}function d(t,n){e.postMessage({msg:Z.IO_ERROR,data:{type:t,info:n}})}function f(t,n){e.postMessage({msg:Z.DEMUX_ERROR,data:{type:t,info:n}})}function _(t){e.postMessage({msg:Z.RECOMMEND_SEEKPOINT,data:t})}i.install(),e.addEventListener("message",(function(i){switch(i.data.cmd){case"init":t=new ee(i.data.param[0],i.data.param[1]),t.on(Z.IO_ERROR,d.bind(this)),t.on(Z.DEMUX_ERROR,f.bind(this)),t.on(Z.INIT_SEGMENT,r.bind(this)),t.on(Z.MEDIA_SEGMENT,o.bind(this)),t.on(Z.LOADING_COMPLETE,s.bind(this)),t.on(Z.RECOVERED_EARLY_EOF,a.bind(this)),t.on(Z.MEDIA_INFO,u.bind(this)),t.on(Z.METADATA_ARRIVED,l.bind(this)),t.on(Z.SCRIPTDATA_ARRIVED,c.bind(this)),t.on(Z.STATISTICS_INFO,h.bind(this)),t.on(Z.RECOMMEND_SEEKPOINT,_.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(i.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":{let e=i.data.param;M.applyConfig(e),!0===e.enableCallback?M.addLogListener(n):M.removeLogListener(n);break}}}))};var ne=class{constructor(e,t){if(this.TAG="Transmuxer",this._emitter=new s.a,t.enableWorker&&"undefined"!=typeof Worker)try{let r=n("d2be");this._worker=r(te),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},M.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:M.getConfig()})}catch(n){u.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new ee(e,t)}else this._controller=new ee(e,t);if(this._controller){let e=this._controller;e.on(Z.IO_ERROR,this._onIOError.bind(this)),e.on(Z.DEMUX_ERROR,this._onDemuxError.bind(this)),e.on(Z.INIT_SEGMENT,this._onInitSegment.bind(this)),e.on(Z.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),e.on(Z.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),e.on(Z.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),e.on(Z.MEDIA_INFO,this._onMediaInfo.bind(this)),e.on(Z.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),e.on(Z.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),e.on(Z.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),e.on(Z.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}destroy(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),M.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}hasWorker(){return null!=this._worker}open(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}close(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}seek(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)}pause(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}resume(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}_onInitSegment(e,t){Promise.resolve().then(()=>{this._emitter.emit(Z.INIT_SEGMENT,e,t)})}_onMediaSegment(e,t){Promise.resolve().then(()=>{this._emitter.emit(Z.MEDIA_SEGMENT,e,t)})}_onLoadingComplete(){Promise.resolve().then(()=>{this._emitter.emit(Z.LOADING_COMPLETE)})}_onRecoveredEarlyEof(){Promise.resolve().then(()=>{this._emitter.emit(Z.RECOVERED_EARLY_EOF)})}_onMediaInfo(e){Promise.resolve().then(()=>{this._emitter.emit(Z.MEDIA_INFO,e)})}_onMetaDataArrived(e){Promise.resolve().then(()=>{this._emitter.emit(Z.METADATA_ARRIVED,e)})}_onScriptDataArrived(e){Promise.resolve().then(()=>{this._emitter.emit(Z.SCRIPTDATA_ARRIVED,e)})}_onStatisticsInfo(e){Promise.resolve().then(()=>{this._emitter.emit(Z.STATISTICS_INFO,e)})}_onIOError(e,t){Promise.resolve().then(()=>{this._emitter.emit(Z.IO_ERROR,e,t)})}_onDemuxError(e,t){Promise.resolve().then(()=>{this._emitter.emit(Z.DEMUX_ERROR,e,t)})}_onRecommendSeekpoint(e){Promise.resolve().then(()=>{this._emitter.emit(Z.RECOMMEND_SEEKPOINT,e)})}_onLoggingConfigChanged(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})}_onWorkerMessage(e){let t=e.data,n=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case Z.INIT_SEGMENT:case Z.MEDIA_SEGMENT:this._emitter.emit(t.msg,n.type,n.data);break;case Z.LOADING_COMPLETE:case Z.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case Z.MEDIA_INFO:Object.setPrototypeOf(n,D.prototype),this._emitter.emit(t.msg,n);break;case Z.METADATA_ARRIVED:case Z.SCRIPTDATA_ARRIVED:case Z.STATISTICS_INFO:this._emitter.emit(t.msg,n);break;case Z.IO_ERROR:case Z.DEMUX_ERROR:this._emitter.emit(t.msg,n.type,n.info);break;case Z.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,n);break;case"logcat_callback":u.emitter.emit("log",n.type,n.logcat)}}};var re={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};var ie=class{constructor(e){this.TAG="MSEController",this._config=e,this._emitter=new s.a,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new X}destroy(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaSource)throw new h("MediaSource has been attached to an HTMLMediaElement!");let t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL}detachMediaElement(){if(this._mediaSource){let e=this._mediaSource;for(let t in this._sourceBuffers){let n=this._pendingSegments[t];n.splice(0,n.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;let r=this._sourceBuffers[t];if(r){if("closed"!==e.readyState){try{e.removeSourceBuffer(r)}catch(e){u.e(this.TAG,e.message)}r.removeEventListener("error",this.e.onSourceBufferError),r.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){u.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}appendInitSegment(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);let n=e,r=""+n.container;n.codec&&n.codec.length>0&&(r+=";codecs="+n.codec);let i=!1;if(u.v(this.TAG,"Received Initialization Segment, mimeType: "+r),this._lastInitSegments[n.type]=n,r!==this._mimeTypes[n.type]){if(this._mimeTypes[n.type])u.v(this.TAG,`Notice: ${n.type} mimeType changed, origin: ${this._mimeTypes[n.type]}, target: ${r}`);else{i=!0;try{let e=this._sourceBuffers[n.type]=this._mediaSource.addSourceBuffer(r);e.addEventListener("error",this.e.onSourceBufferError),e.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return u.e(this.TAG,e.message),void this._emitter.emit(re.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[n.type]=r}t||this._pendingSegments[n.type].push(n),i||this._sourceBuffers[n.type]&&!this._sourceBuffers[n.type].updating&&this._doAppendSegments(),v.safari&&"audio/mpeg"===n.container&&n.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=n.mediaDuration/1e3,this._updateMediaSourceDuration())}appendMediaSegment(e){let t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();let n=this._sourceBuffers[t.type];!n||n.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}seek(e){for(let e in this._sourceBuffers){if(!this._sourceBuffers[e])continue;let t=this._sourceBuffers[e];if("open"===this._mediaSource.readyState)try{t.abort()}catch(e){u.e(this.TAG,e.message)}this._idrList.clear();let n=this._pendingSegments[e];if(n.splice(0,n.length),"closed"!==this._mediaSource.readyState){for(let n=0;n<t.buffered.length;n++){let r=t.buffered.start(n),i=t.buffered.end(n);this._pendingRemoveRanges[e].push({start:r,end:i})}if(t.updating||this._doRemoveRanges(),v.safari){let n=this._lastInitSegments[e];n&&(this._pendingSegments[e].push(n),t.updating||this._doAppendSegments())}}}}endOfStream(){let e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}getNearestKeyframe(e){return this._idrList.getLastSyncPointBeforeDts(e)}_needCleanupSourceBuffer(){if(!this._config.autoCleanupSourceBuffer)return!1;let e=this._mediaElement.currentTime;for(let t in this._sourceBuffers){let n=this._sourceBuffers[t];if(n){let t=n.buffered;if(t.length>=1&&e-t.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}_doCleanupSourceBuffer(){let e=this._mediaElement.currentTime;for(let t in this._sourceBuffers){let n=this._sourceBuffers[t];if(n){let r=n.buffered,i=!1;for(let n=0;n<r.length;n++){let o=r.start(n),s=r.end(n);if(o<=e&&e<s+3){if(e-o>=this._config.autoCleanupMaxBackwardDuration){i=!0;let n=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:o,end:n})}}else s<e&&(i=!0,this._pendingRemoveRanges[t].push({start:o,end:s}))}i&&!n.updating&&this._doRemoveRanges()}}}_updateMediaSourceDuration(){let e=this._sourceBuffers;if(0===this._mediaElement.readyState||"open"!==this._mediaSource.readyState)return;if(e.video&&e.video.updating||e.audio&&e.audio.updating)return;let t=this._mediaSource.duration,n=this._pendingMediaDuration;n>0&&(isNaN(t)||n>t)&&(u.v(this.TAG,`Update MediaSource duration from ${t} to ${n}`),this._mediaSource.duration=n),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}_doRemoveRanges(){for(let e in this._pendingRemoveRanges){if(!this._sourceBuffers[e]||this._sourceBuffers[e].updating)continue;let t=this._sourceBuffers[e],n=this._pendingRemoveRanges[e];for(;n.length&&!t.updating;){let e=n.shift();t.remove(e.start,e.end)}}}_doAppendSegments(){let e=this._pendingSegments;for(let t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){let n=e[t].shift();if(n.timestampOffset){let e=this._sourceBuffers[t].timestampOffset,r=n.timestampOffset/1e3;Math.abs(e-r)>.1&&(u.v(this.TAG,`Update MPEG audio timestampOffset from ${e} to ${r}`),this._sourceBuffers[t].timestampOffset=r),delete n.timestampOffset}if(!n.data||0===n.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(n.data),this._isBufferFull=!1,"video"===t&&n.hasOwnProperty("info")&&this._idrList.appendArray(n.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(n),22===e.code?(this._isBufferFull||this._emitter.emit(re.BUFFER_FULL),this._isBufferFull=!0):(u.e(this.TAG,e.message),this._emitter.emit(re.ERROR,{code:e.code,msg:e.message}))}}}_onSourceOpen(){if(u.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0){let e=this._pendingSourceBufferInit;for(;e.length;){let t=e.shift();this.appendInitSegment(t,!0)}}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(re.SOURCE_OPEN)}_onSourceEnded(){u.v(this.TAG,"MediaSource onSourceEnded")}_onSourceClose(){u.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}_hasPendingSegments(){let e=this._pendingSegments;return e.video.length>0||e.audio.length>0}_hasPendingRemoveRanges(){let e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0}_onSourceBufferUpdateEnd(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(re.UPDATE_END)}_onSourceBufferError(e){u.e(this.TAG,"SourceBuffer Error: "+e)}};const oe={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},se={NETWORK_EXCEPTION:p.EXCEPTION,NETWORK_STATUS_CODE_INVALID:p.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:p.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:p.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:V.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:V.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:V.CODEC_UNSUPPORTED};var ae=class{constructor(e,t){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new s.a,this._config=O(),"object"==typeof t&&Object.assign(this._config,t),"flv"!==e.type.toLowerCase())throw new d("FlvPlayer requires an flv MediaDataSource input!");!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=e,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;let n=v.chrome&&(v.version.major<50||50===v.version.major&&v.version.build<2661);this._alwaysSeekKeyframe=!!(n||v.msedge||v.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}destroy(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){e===C.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(()=>{this._emitter.emit(C.MEDIA_INFO,this.mediaInfo)}):e===C.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(()=>{this._emitter.emit(C.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new ie(this._config),this._msectl.on(re.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(re.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(re.SOURCE_OPEN,()=>{this._mseSourceOpened=!0,this._hasPendingLoad&&(this._hasPendingLoad=!1,this.load())}),this._msectl.on(re.ERROR,e=>{this._emitter.emit(C.ERROR,oe.MEDIA_ERROR,se.MEDIA_MSE_ERROR,e)}),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}detachMediaElement(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}load(){if(!this._mediaElement)throw new h("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new h("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new ne(this._mediaDataSource,this._config),this._transmuxer.on(Z.INIT_SEGMENT,(e,t)=>{this._msectl.appendInitSegment(t)}),this._transmuxer.on(Z.MEDIA_SEGMENT,(e,t)=>{if(this._msectl.appendMediaSegment(t),this._config.lazyLoad&&!this._config.isLive){let e=this._mediaElement.currentTime;t.info.endDts>=1e3*(e+this._config.lazyLoadMaxDuration)&&null==this._progressChecker&&(u.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}),this._transmuxer.on(Z.LOADING_COMPLETE,()=>{this._msectl.endOfStream(),this._emitter.emit(C.LOADING_COMPLETE)}),this._transmuxer.on(Z.RECOVERED_EARLY_EOF,()=>{this._emitter.emit(C.RECOVERED_EARLY_EOF)}),this._transmuxer.on(Z.IO_ERROR,(e,t)=>{this._emitter.emit(C.ERROR,oe.NETWORK_ERROR,e,t)}),this._transmuxer.on(Z.DEMUX_ERROR,(e,t)=>{this._emitter.emit(C.ERROR,oe.MEDIA_ERROR,e,{code:-1,msg:t})}),this._transmuxer.on(Z.MEDIA_INFO,e=>{this._mediaInfo=e,this._emitter.emit(C.MEDIA_INFO,Object.assign({},e))}),this._transmuxer.on(Z.METADATA_ARRIVED,e=>{this._emitter.emit(C.METADATA_ARRIVED,e)}),this._transmuxer.on(Z.SCRIPTDATA_ARRIVED,e=>{this._emitter.emit(C.SCRIPTDATA_ARRIVED,e)}),this._transmuxer.on(Z.STATISTICS_INFO,e=>{this._statisticsInfo=this._fillStatisticsInfo(e),this._emitter.emit(C.STATISTICS_INFO,Object.assign({},this._statisticsInfo))}),this._transmuxer.on(Z.RECOMMEND_SEEKPOINT,e=>{this._mediaElement&&!this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e/1e3)}),this._transmuxer.open()))}unload(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}play(){return this._mediaElement.play()}pause(){this._mediaElement.pause()}get type(){return this._type}get buffered(){return this._mediaElement.buffered}get duration(){return this._mediaElement.duration}get volume(){return this._mediaElement.volume}set volume(e){this._mediaElement.volume=e}get muted(){return this._mediaElement.muted}set muted(e){this._mediaElement.muted=e}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e}get mediaInfo(){return Object.assign({},this._mediaInfo)}get statisticsInfo(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}_fillStatisticsInfo(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;let t=!0,n=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){let e=this._mediaElement.getVideoPlaybackQuality();n=e.totalVideoFrames,r=e.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=r),e}_onmseUpdateEnd(){if(!this._config.lazyLoad||this._config.isLive)return;let e=this._mediaElement.buffered,t=this._mediaElement.currentTime,n=0,r=0;for(let i=0;i<e.length;i++){let o=e.start(i),s=e.end(i);if(o<=t&&t<s){n=o,r=s;break}}r>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(u.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}_onmseBufferFull(){u.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()}_suspendTransmuxer(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}_checkProgressAndResume(){let e=this._mediaElement.currentTime,t=this._mediaElement.buffered,n=!1;for(let r=0;r<t.length;r++){let i=t.start(r),o=t.end(r);if(e>=i&&e<o){e>=o-this._config.lazyLoadRecoverDuration&&(n=!0);break}}n&&(window.clearInterval(this._progressChecker),this._progressChecker=null,n&&(u.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}_isTimepointBuffered(e){let t=this._mediaElement.buffered;for(let n=0;n<t.length;n++){let r=t.start(n),i=t.end(n);if(e>=r&&e<i)return!0}return!1}_internalSeek(e){let t=this._isTimepointBuffered(e),n=!1,r=0;if(e<1&&this._mediaElement.buffered.length>0){let t=this._mediaElement.buffered.start(0);(t<1&&e<t||v.safari)&&(n=!0,r=v.safari?.1:t)}if(n)this._requestSetTime=!0,this._mediaElement.currentTime=r;else if(t){if(this._alwaysSeekKeyframe){let t=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=t?t.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)}_checkAndApplyUnbufferedSeekpoint(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){let e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}_checkAndResumeStuckPlayback(e){let t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){let e=t.buffered;e.length>0&&t.currentTime<e.start(0)&&(u.w(this.TAG,`Playback seems stuck at ${t.currentTime}, seek to ${e.start(0)}`),this._requestSetTime=!0,this._mediaElement.currentTime=e.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}_onvLoadedMetadata(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}_onvSeeking(e){let t=this._mediaElement.currentTime,n=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&n.length>0){let e=n.start(0);if(e<1&&t<e||v.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=v.safari?.1:e)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){let e=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=e&&(this._requestSetTime=!0,this._mediaElement.currentTime=e.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}_onvCanPlay(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}_onvStalled(e){this._checkAndResumeStuckPlayback(!0)}_onvProgress(e){this._checkAndResumeStuckPlayback()}};var ue=class{constructor(e,t){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new s.a,this._config=O(),"object"==typeof t&&Object.assign(this._config,t),"flv"===e.type.toLowerCase())throw new d("NativePlayer does't support flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new d(`NativePlayer(${e.type}) doesn't support multipart playback!`);this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}destroy(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){e===C.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(()=>{this._emitter.emit(C.MEDIA_INFO,this.mediaInfo)}):e===C.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(()=>{this._emitter.emit(C.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}detachMediaElement(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}load(){if(!this._mediaElement)throw new h("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}unload(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}play(){return this._mediaElement.play()}pause(){this._mediaElement.pause()}get type(){return this._type}get buffered(){return this._mediaElement.buffered}get duration(){return this._mediaElement.duration}get volume(){return this._mediaElement.volume}set volume(e){this._mediaElement.volume=e}get muted(){return this._mediaElement.muted}set muted(e){this._mediaElement.muted=e}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e}get mediaInfo(){let e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e}get statisticsInfo(){let e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;let t=!0,n=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){let e=this._mediaElement.getVideoPlaybackQuality();n=e.totalVideoFrames,r=e.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(n=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=n,e.droppedFrames=r),e}_onvLoadedMetadata(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(C.MEDIA_INFO,this.mediaInfo)}_reportStatisticsInfo(){this._emitter.emit(C.STATISTICS_INFO,this.statisticsInfo)}};i.install();let le={createPlayer:function(e,t){let n=e;if(null==n||"object"!=typeof n)throw new d("MediaDataSource must be an javascript object!");if(!n.hasOwnProperty("type"))throw new d("MediaDataSource must has type field to indicate video file type!");switch(n.type){case"flv":return new ae(n,t);default:return new ue(n,t)}},isSupported:function(){return k.supportMSEH264Playback()},getFeatureList:function(){return k.getFeatureList()}};le.BaseLoader=m,le.LoaderStatus=_,le.LoaderErrors=p,le.Events=C,le.ErrorTypes=oe,le.ErrorDetails=se,le.FlvPlayer=ae,le.NativePlayer=ue,le.LoggingControl=M,Object.defineProperty(le,"version",{enumerable:!0,get:function(){return"__VERSION__"}});t.default=le},"19fa":function(e,t,n){var r=n("fc5e"),i=n("c901");e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),u=r(n),l=a.length;return u<0||u>=l?e?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},"1a14":function(e,t,n){var r=n("77e9"),i=n("faf5"),o=n("3397"),s=Object.defineProperty;t.f=n("0bad")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"24ee":function(e,t,n){e.exports={default:n("65b9"),__esModule:!0}},2693:function(e,t,n){var r=n("0983"),i=n("ce7a");n("7336")("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},"26dd":function(e,t,n){"use strict";var r=n("6f4f"),i=n("10db"),o=n("92f0"),s={};n("051b")(s,n("cc15")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},"2ebd":function(e,t,n){n("2693"),e.exports=n("5524").Object.getPrototypeOf},"2f9a":function(e,t){e.exports=function(){}},"301c":function(e,t,n){n("e198")("asyncIterator")},3397:function(e,t,n){var r=n("7a41");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"34c3":function(e,t,n){(function(e){(function(t){"use strict";var n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t){return e(t={exports:{}},t.exports),t.exports}var o=Math.ceil,s=Math.floor,a=function(e){return isNaN(e=+e)?0:(e>0?s:o)(e)},u=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},l=i((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),c=i((function(e){var t=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=t)})),h=(c.version,function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}),d=function(e,t,n){if(h(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},f=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_=function(e){if(!f(e))throw TypeError(e+" is not an object!");return e},p=function(e){try{return!!e()}catch(e){return!0}},m=!p((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),g=l.document,v=f(g)&&f(g.createElement),y=function(e){return v?g.createElement(e):{}},b=!m&&!p((function(){return 7!=Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a})),w=function(e,t){if(!f(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!f(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!f(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!f(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},E=Object.defineProperty,S={f:m?Object.defineProperty:function(e,t,n){if(_(e),t=w(t,!0),_(n),b)try{return E(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},A=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},L=m?function(e,t,n){return S.f(e,t,A(1,n))}:function(e,t,n){return e[t]=n,e},R=function(e,t,n){var r,i,o,s=e&R.F,a=e&R.G,u=e&R.S,h=e&R.P,f=e&R.B,_=e&R.W,p=a?c:c[t]||(c[t]={}),m=p.prototype,g=a?l:u?l[t]:(l[t]||{}).prototype;for(r in a&&(n=t),n)(i=!s&&g&&void 0!==g[r])&&r in p||(o=i?g[r]:n[r],p[r]=a&&"function"!=typeof g[r]?n[r]:f&&i?d(o,l):_&&g[r]==o?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(o):h&&"function"==typeof o?d(Function.call,o):o,h&&((p.virtual||(p.virtual={}))[r]=o,e&R.R&&m&&!m[r]&&L(m,r,o)))};R.F=1,R.G=2,R.S=4,R.P=8,R.B=16,R.W=32,R.U=64,R.R=128;var O,T=R,k=L,C={}.hasOwnProperty,x=function(e,t){return C.call(e,t)},M={},D={}.toString,I=function(e){return D.call(e).slice(8,-1)},P=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==I(e)?e.split(""):Object(e)},B=function(e){return P(u(e))},N=Math.min,U=function(e){return e>0?N(a(e),9007199254740991):0},F=Math.max,j=Math.min,G=l["__core-js_shared__"]||(l["__core-js_shared__"]={}),V=function(e){return G[e]||(G[e]={})},z=0,K=Math.random(),H=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++z+K).toString(36))},W=V("keys"),q=function(e){return W[e]||(W[e]=H(e))},$=(O=!1,function(e,t,n){var r,i=B(e),o=U(i.length),s=function(e,t){return(e=a(e))<0?F(e+t,0):j(e,t)}(n,o);if(O&&t!=t){for(;o>s;)if((r=i[s++])!=r)return!0}else for(;o>s;s++)if((O||s in i)&&i[s]===t)return O||s||0;return!O&&-1}),Y=q("IE_PROTO"),X=function(e,t){var n,r=B(e),i=0,o=[];for(n in r)n!=Y&&x(r,n)&&o.push(n);for(;t.length>i;)x(r,n=t[i++])&&(~$(o,n)||o.push(n));return o},J="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Q=Object.keys||function(e){return X(e,J)},Z=m?Object.defineProperties:function(e,t){_(e);for(var n,r=Q(t),i=r.length,o=0;i>o;)S.f(e,n=r[o++],t[n]);return e},ee=l.document,te=ee&&ee.documentElement,ne=q("IE_PROTO"),re=function(){},ie=function(){var e,t=y("iframe"),n=J.length;for(t.style.display="none",te.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),ie=e.F;n--;)delete ie.prototype[J[n]];return ie()},oe=Object.create||function(e,t){var n;return null!==e?(re.prototype=_(e),n=new re,re.prototype=null,n[ne]=e):n=ie(),void 0===t?n:Z(n,t)},se=i((function(e){var t=V("wks"),n=l.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:H)("Symbol."+e))}).store=t})),ae=S.f,ue=se("toStringTag"),le=function(e,t,n){e&&!x(e=n?e:e.prototype,ue)&&ae(e,ue,{configurable:!0,value:t})},ce={};L(ce,se("iterator"),(function(){return this}));var he,de=function(e,t,n){e.prototype=oe(ce,{next:A(1,n)}),le(e,t+" Iterator")},fe=function(e){return Object(u(e))},_e=q("IE_PROTO"),pe=Object.prototype,me=Object.getPrototypeOf||function(e){return e=fe(e),x(e,_e)?e[_e]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?pe:null},ge=se("iterator"),ve=!([].keys&&"next"in[].keys()),ye=function(){return this},be=function(e,t,n,r,i,o,s){de(n,t,r);var a,u,l,c=function(e){if(!ve&&e in _)return _[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},h=t+" Iterator",d="values"==i,f=!1,_=e.prototype,p=_[ge]||_["@@iterator"]||i&&_[i],m=!ve&&p||c(i),g=i?d?c("entries"):m:void 0,v="Array"==t&&_.entries||p;if(v&&(l=me(v.call(new e)))!==Object.prototype&&l.next&&le(l,h,!0),d&&p&&"values"!==p.name&&(f=!0,m=function(){return p.call(this)}),s&&(ve||f||!_[ge])&&L(_,ge,m),M[t]=m,M[h]=ye,i)if(a={values:d?m:c("values"),keys:o?m:c("keys"),entries:g},s)for(u in a)u in _||k(_,u,a[u]);else T(T.P+T.F*(ve||f),t,a);return a},we=(he=!0,function(e,t){var n,r,i=String(u(e)),o=a(t),s=i.length;return o<0||o>=s?he?"":void 0:(n=i.charCodeAt(o))<55296||n>56319||o+1===s||(r=i.charCodeAt(o+1))<56320||r>57343?he?i.charAt(o):n:he?i.slice(o,o+2):r-56320+(n-55296<<10)+65536});be(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=we(t,n),this._i+=e.length,{value:e,done:!1})}));var Ee=function(e,t,n,r){try{return r?t(_(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&_(i.call(e)),t}},Se=se("iterator"),Ae=Array.prototype,Le=function(e){return void 0!==e&&(M.Array===e||Ae[Se]===e)},Re=function(e,t,n){t in e?S.f(e,t,A(0,n)):e[t]=n},Oe=se("toStringTag"),Te="Arguments"==I(function(){return arguments}()),ke=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Oe))?n:Te?I(t):"Object"==(r=I(t))&&"function"==typeof t.callee?"Arguments":r},Ce=se("iterator"),xe=c.getIteratorMethod=function(e){if(null!=e)return e[Ce]||e["@@iterator"]||M[ke(e)]},Me=se("iterator"),De=!1;try{[7][Me]().return=function(){De=!0}}catch(e){}var Ie=function(e,t){if(!t&&!De)return!1;var n=!1;try{var r=[7],i=r[Me]();i.next=function(){return{done:n=!0}},r[Me]=function(){return i},e(r)}catch(e){}return n};T(T.S+T.F*!Ie((function(e){})),"Array",{from:function(e){var t,n,r,i,o=fe(e),s="function"==typeof this?this:Array,a=arguments.length,u=a>1?arguments[1]:void 0,l=void 0!==u,c=0,h=xe(o);if(l&&(u=d(u,a>2?arguments[2]:void 0,2)),null==h||s==Array&&Le(h))for(n=new s(t=U(o.length));t>c;c++)Re(n,c,l?u(o[c],c):o[c]);else for(i=h.call(o),n=new s;!(r=i.next()).done;c++)Re(n,c,l?Ee(i,u,[r.value,c],!0):r.value);return n.length=c,n}});var Pe=c.Array.from,Be=i((function(e){e.exports={default:Pe,__esModule:!0}})),Ne=r(Be),Ue=r(i((function(e,t){t.__esModule=!0;var n,r=(n=Be)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}}))),Fe=function(e,t){return{value:t,done:!!e}};be(Array,"Array",(function(e,t){this._t=B(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Fe(1)):Fe(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),M.Arguments=M.Array;for(var je=se("toStringTag"),Ge="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Ve=0;Ve<Ge.length;Ve++){var ze=Ge[Ve],Ke=l[ze],He=Ke&&Ke.prototype;He&&!He[je]&&L(He,je,ze),M[ze]=M.Array}var We={f:se},qe=We.f("iterator"),$e=i((function(e){e.exports={default:qe,__esModule:!0}}));r($e);var Ye=i((function(e){var t=H("meta"),n=S.f,r=0,i=Object.isExtensible||function(){return!0},o=!p((function(){return i(Object.preventExtensions({}))})),s=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},a=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!f(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!x(e,t)){if(!i(e))return"F";if(!n)return"E";s(e)}return e[t].i},getWeak:function(e,n){if(!x(e,t)){if(!i(e))return!0;if(!n)return!1;s(e)}return e[t].w},onFreeze:function(e){return o&&a.NEED&&i(e)&&!x(e,t)&&s(e),e}}})),Xe=(Ye.KEY,Ye.NEED,Ye.fastKey,Ye.getWeak,Ye.onFreeze,S.f),Je=function(e){var t=c.Symbol||(c.Symbol={});"_"==e.charAt(0)||e in t||Xe(t,e,{value:We.f(e)})},Qe={f:Object.getOwnPropertySymbols},Ze={f:{}.propertyIsEnumerable},et=Array.isArray||function(e){return"Array"==I(e)},tt=J.concat("length","prototype"),nt={f:Object.getOwnPropertyNames||function(e){return X(e,tt)}},rt=nt.f,it={}.toString,ot="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],st={f:function(e){return ot&&"[object Window]"==it.call(e)?function(e){try{return rt(e)}catch(e){return ot.slice()}}(e):rt(B(e))}},at=Object.getOwnPropertyDescriptor,ut={f:m?at:function(e,t){if(e=B(e),t=w(t,!0),b)try{return at(e,t)}catch(e){}if(x(e,t))return A(!Ze.f.call(e,t),e[t])}},lt=Ye.KEY,ct=ut.f,ht=S.f,dt=st.f,ft=l.Symbol,_t=l.JSON,pt=_t&&_t.stringify,mt=se("_hidden"),gt=se("toPrimitive"),vt={}.propertyIsEnumerable,yt=V("symbol-registry"),bt=V("symbols"),wt=V("op-symbols"),Et=Object.prototype,St="function"==typeof ft,At=l.QObject,Lt=!At||!At.prototype||!At.prototype.findChild,Rt=m&&p((function(){return 7!=oe(ht({},"a",{get:function(){return ht(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=ct(Et,t);r&&delete Et[t],ht(e,t,n),r&&e!==Et&&ht(Et,t,r)}:ht,Ot=function(e){var t=bt[e]=oe(ft.prototype);return t._k=e,t},Tt=St&&"symbol"==typeof ft.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof ft},kt=function(e,t,n){return e===Et&&kt(wt,t,n),_(e),t=w(t,!0),_(n),x(bt,t)?(n.enumerable?(x(e,mt)&&e[mt][t]&&(e[mt][t]=!1),n=oe(n,{enumerable:A(0,!1)})):(x(e,mt)||ht(e,mt,A(1,{})),e[mt][t]=!0),Rt(e,t,n)):ht(e,t,n)},Ct=function(e,t){_(e);for(var n,r=function(e){var t=Q(e),n=Qe.f;if(n)for(var r,i=n(e),o=Ze.f,s=0;i.length>s;)o.call(e,r=i[s++])&&t.push(r);return t}(t=B(t)),i=0,o=r.length;o>i;)kt(e,n=r[i++],t[n]);return e},xt=function(e){var t=vt.call(this,e=w(e,!0));return!(this===Et&&x(bt,e)&&!x(wt,e))&&(!(t||!x(this,e)||!x(bt,e)||x(this,mt)&&this[mt][e])||t)},Mt=function(e,t){if(e=B(e),t=w(t,!0),e!==Et||!x(bt,t)||x(wt,t)){var n=ct(e,t);return!n||!x(bt,t)||x(e,mt)&&e[mt][t]||(n.enumerable=!0),n}},Dt=function(e){for(var t,n=dt(B(e)),r=[],i=0;n.length>i;)x(bt,t=n[i++])||t==mt||t==lt||r.push(t);return r},It=function(e){for(var t,n=e===Et,r=dt(n?wt:B(e)),i=[],o=0;r.length>o;)!x(bt,t=r[o++])||n&&!x(Et,t)||i.push(bt[t]);return i};St||(k((ft=function(){if(this instanceof ft)throw TypeError("Symbol is not a constructor!");var e=H(arguments.length>0?arguments[0]:void 0),t=function(n){this===Et&&t.call(wt,n),x(this,mt)&&x(this[mt],e)&&(this[mt][e]=!1),Rt(this,e,A(1,n))};return m&&Lt&&Rt(Et,e,{configurable:!0,set:t}),Ot(e)}).prototype,"toString",(function(){return this._k})),ut.f=Mt,S.f=kt,nt.f=st.f=Dt,Ze.f=xt,Qe.f=It,We.f=function(e){return Ot(se(e))}),T(T.G+T.W+T.F*!St,{Symbol:ft});for(var Pt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Bt=0;Pt.length>Bt;)se(Pt[Bt++]);for(var Nt=Q(se.store),Ut=0;Nt.length>Ut;)Je(Nt[Ut++]);T(T.S+T.F*!St,"Symbol",{for:function(e){return x(yt,e+="")?yt[e]:yt[e]=ft(e)},keyFor:function(e){if(!Tt(e))throw TypeError(e+" is not a symbol!");for(var t in yt)if(yt[t]===e)return t},useSetter:function(){Lt=!0},useSimple:function(){Lt=!1}}),T(T.S+T.F*!St,"Object",{create:function(e,t){return void 0===t?oe(e):Ct(oe(e),t)},defineProperty:kt,defineProperties:Ct,getOwnPropertyDescriptor:Mt,getOwnPropertyNames:Dt,getOwnPropertySymbols:It}),_t&&T(T.S+T.F*(!St||p((function(){var e=ft();return"[null]"!=pt([e])||"{}"!=pt({a:e})||"{}"!=pt(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(f(t)||void 0!==e)&&!Tt(e))return et(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Tt(t))return t}),r[1]=t,pt.apply(_t,r)}}),ft.prototype[gt]||L(ft.prototype,gt,ft.prototype.valueOf),le(ft,"Symbol"),le(Math,"Math",!0),le(l.JSON,"JSON",!0),Je("asyncIterator"),Je("observable");var Ft=c.Symbol,jt=i((function(e){e.exports={default:Ft,__esModule:!0}}));r(jt);var Gt,Vt,zt,Kt,Ht=r(i((function(e,t){t.__esModule=!0;var n=o($e),r=o(jt),i="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===i(n.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":i(e)}})));Gt="keys",Vt=function(){return function(e){return Q(fe(e))}},zt=(c.Object||{})[Gt]||Object[Gt],(Kt={})[Gt]=Vt(zt),T(T.S+T.F*p((function(){zt(1)})),"Object",Kt);var Wt=c.Object.keys,qt=r(i((function(e){e.exports={default:Wt,__esModule:!0}}))),$t=Math.floor;T(T.S,"Number",{isInteger:function(e){return!f(e)&&isFinite(e)&&$t(e)===e}});var Yt=c.Number.isInteger,Xt=r(i((function(e){e.exports={default:Yt,__esModule:!0}}))),Jt="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Qt="["+Jt+"]",Zt=RegExp("^"+Qt+Qt+"*"),en=RegExp(Qt+Qt+"*$"),tn=function(e,t,n){var r={},i=p((function(){return!!Jt[e]()||"​"!="​"[e]()})),o=r[e]=i?t(nn):Jt[e];n&&(r[n]=o),T(T.P+T.F*i,"String",r)},nn=tn.trim=function(e,t){return e=String(u(e)),1&t&&(e=e.replace(Zt,"")),2&t&&(e=e.replace(en,"")),e},rn=tn,on=l.parseFloat,sn=rn.trim,an=1/on(Jt+"-0")!=-1/0?function(e){var t=sn(String(e),3),n=on(t);return 0===n&&"-"==t.charAt(0)?-0:n}:on;T(T.S+T.F*(Number.parseFloat!=an),"Number",{parseFloat:an});var un=parseFloat,ln=r(i((function(e){e.exports={default:un,__esModule:!0}})));function cn(e){return null==e}function hn(e){return Array.isArray(e)}function dn(e){return"function"==typeof e}function fn(e){return Object(e)===e&&"[object Object]"===String(e)&&!dn(e)&&!hn(e)}function _n(e){return"number"==typeof e}function pn(e){return e instanceof Blob}function mn(e){return"string"==typeof e||e instanceof String}function gn(e){return"boolean"==typeof e}function vn(e){return cn(e)||gn(e)||mn(e)||_n(e)}function yn(e){return!!("object"===("undefined"==typeof Node?"undefined":Ht(Node))?e instanceof Node:e&&"object"===(void 0===e?"undefined":Ht(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t,n){e[t]=n};function n(r,i,o){if(hn(r)||fn(r)){for(var s in i=vn(i)?fn(r)?{}:[]:i,r)t(i,s,n(r[s],i[s],s));return i}return e(r,i,o)}return n}var wn=bn((function(e){return e}));function En(e,t){return e.replace(/(^|[^a-zA-Z]+)([a-zA-Z])/g,(function(e,n,r,i){return t||0!==i?r.toUpperCase():r.toLowerCase()}))}function Sn(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var An,Ln,Rn,On=i((function(e){var t={},n={},r=e.exports=function(e,r,i,o,s){var a,u,l,c,h=s?function(){return e}:xe(e),f=d(i,o,r?2:1),p=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(Le(h)){for(a=U(e.length);a>p;p++)if((c=r?f(_(u=e[p])[0],u[1]):f(e[p]))===t||c===n)return c}else for(l=h.call(e);!(u=l.next()).done;)if((c=Ee(l,f,u.value,r))===t||c===n)return c};r.BREAK=t,r.RETURN=n})),Tn=se("species"),kn=function(e,t){var n,r=_(e).constructor;return void 0===r||null==(n=_(r)[Tn])?t:h(n)},Cn=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)},xn=l.process,Mn=l.setImmediate,Dn=l.clearImmediate,In=l.MessageChannel,Pn=l.Dispatch,Bn=0,Nn={},Un=function(){var e=+this;if(Nn.hasOwnProperty(e)){var t=Nn[e];delete Nn[e],t()}},Fn=function(e){Un.call(e.data)};Mn&&Dn||(Mn=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Nn[++Bn]=function(){Cn("function"==typeof e?e:Function(e),t)},An(Bn),Bn},Dn=function(e){delete Nn[e]},"process"==I(xn)?An=function(e){xn.nextTick(d(Un,e,1))}:Pn&&Pn.now?An=function(e){Pn.now(d(Un,e,1))}:In?(Rn=(Ln=new In).port2,Ln.port1.onmessage=Fn,An=d(Rn.postMessage,Rn,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(An=function(e){l.postMessage(e+"","*")},l.addEventListener("message",Fn,!1)):An="onreadystatechange"in y("script")?function(e){te.appendChild(y("script")).onreadystatechange=function(){te.removeChild(this),Un.call(e)}}:function(e){setTimeout(d(Un,e,1),0)});var jn={set:Mn,clear:Dn},Gn=jn.set,Vn=l.MutationObserver||l.WebKitMutationObserver,zn=l.process,Kn=l.Promise,Hn="process"==I(zn);function Wn(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=h(t),this.reject=h(n)}var qn,$n,Yn,Xn,Jn={f:function(e){return new Wn(e)}},Qn=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}},Zn=function(e,t){if(_(e),f(t)&&t.constructor===e)return t;var n=Jn.f(e);return(0,n.resolve)(t),n.promise},er=se("species"),tr=jn.set,nr=function(){var e,t,n,r=function(){var r,i;for(Hn&&(r=zn.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(Hn)n=function(){zn.nextTick(r)};else if(!Vn||l.navigator&&l.navigator.standalone)if(Kn&&Kn.resolve){var i=Kn.resolve();n=function(){i.then(r)}}else n=function(){Gn.call(l,r)};else{var o=!0,s=document.createTextNode("");new Vn(r).observe(s,{characterData:!0}),n=function(){s.data=o=!o}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}(),rr=l.TypeError,ir=l.process,or=l.Promise,sr="process"==ke(ir),ar=function(){},ur=$n=Jn.f,lr=!!function(){try{var e=or.resolve(1),t=(e.constructor={})[se("species")]=function(e){e(ar,ar)};return(sr||"function"==typeof PromiseRejectionEvent)&&e.then(ar)instanceof t}catch(e){}}(),cr=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},hr=function(e,t){if(!e._n){e._n=!0;var n=e._c;nr((function(){for(var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s=i?t.ok:t.fail,a=t.resolve,u=t.reject,l=t.domain;try{s?(i||(2==e._h&&_r(e),e._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&l.exit()),n===t.promise?u(rr("Promise-chain cycle")):(o=cr(n))?o.call(n,a,u):a(n)):u(r)}catch(e){u(e)}};n.length>o;)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&dr(e)}))}},dr=function(e){tr.call(l,(function(){var t,n,r,i=e._v,o=fr(e);if(o&&(t=Qn((function(){sr?ir.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=sr||fr(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},fr=function(e){return 1!==e._h&&0===(e._a||e._c).length},_r=function(e){tr.call(l,(function(){var t;sr?ir.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},pr=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),hr(t,!0))},mr=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw rr("Promise can't be resolved itself");(t=cr(e))?nr((function(){var r={_w:n,_d:!1};try{t.call(e,d(mr,r,1),d(pr,r,1))}catch(e){pr.call(r,e)}})):(n._v=e,n._s=1,hr(n,!1))}catch(e){pr.call({_w:n,_d:!1},e)}}};lr||(or=function(e){!function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!")}(this,or,"Promise","_h"),h(e),qn.call(this);try{e(d(mr,this,1),d(pr,this,1))}catch(e){pr.call(this,e)}},(qn=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:L(e,r,t[r]);return e}(or.prototype,{then:function(e,t){var n=ur(kn(this,or));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=sr?ir.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&hr(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),Yn=function(){var e=new qn;this.promise=e,this.resolve=d(mr,e,1),this.reject=d(pr,e,1)},Jn.f=ur=function(e){return e===or||e===Xn?new Yn(e):$n(e)}),T(T.G+T.W+T.F*!lr,{Promise:or}),le(or,"Promise"),function(e){var t="function"==typeof c[e]?c[e]:l[e];m&&t&&!t[er]&&S.f(t,er,{configurable:!0,get:function(){return this}})}("Promise"),Xn=c.Promise,T(T.S+T.F*!lr,"Promise",{reject:function(e){var t=ur(this);return(0,t.reject)(e),t.promise}}),T(T.S+!0*T.F,"Promise",{resolve:function(e){return Zn(this===Xn?or:this,e)}}),T(T.S+T.F*!(lr&&Ie((function(e){or.all(e).catch(ar)}))),"Promise",{all:function(e){var t=this,n=ur(t),r=n.resolve,i=n.reject,o=Qn((function(){var n=[],o=0,s=1;On(e,!1,(function(e){var a=o++,u=!1;n.push(void 0),s++,t.resolve(e).then((function(e){u||(u=!0,n[a]=e,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=ur(t),r=n.reject,i=Qn((function(){On(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}}),T(T.P+T.R,"Promise",{finally:function(e){var t=kn(this,c.Promise||l.Promise),n="function"==typeof e;return this.then(n?function(n){return Zn(t,e()).then((function(){return n}))}:e,n?function(n){return Zn(t,e()).then((function(){throw n}))}:e)}}),T(T.S,"Promise",{try:function(e){var t=Jn.f(this),n=Qn(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}});var gr=c.Promise,vr=r(i((function(e){e.exports={default:gr,__esModule:!0}}))),yr="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window);function br(e){return Ne(e)}function wr(e,t,n){var r=e;if(t+n<r.length){for(;n--;)if(128!=(192&r[++t]))return!1;return!0}return!1}var Er=yr&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame)||function(e){return setTimeout(e,17)},Sr=yr&&(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame)||function(e){clearTimeout(e)};function Ar(e,t){var n=t,r=(e=""+(e||"")).length;return(((t=(t||r)-r)>0?e.repeat?"0".repeat(t):new Array(t+1).join("0"):"")+e).slice(0,n)}var Lr=r(i((function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})));T(T.S+T.F*!m,"Object",{defineProperty:S.f});var Rr=c.Object,Or=function(e,t,n){return Rr.defineProperty(e,t,n)},Tr=i((function(e){e.exports={default:Or,__esModule:!0}}));r(Tr);var kr=r(i((function(e,t){t.__esModule=!0;var n,r=(n=Tr)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()}))),Cr=Object.assign,xr=!Cr||p((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Cr({},e)[n]||Object.keys(Cr({},t)).join("")!=r}))?function(e,t){for(var n=fe(e),r=arguments.length,i=1,o=Qe.f,s=Ze.f;r>i;)for(var a,u=P(arguments[i++]),l=o?Q(u).concat(o(u)):Q(u),c=l.length,h=0;c>h;)s.call(u,a=l[h++])&&(n[a]=u[a]);return n}:Cr;T(T.S+T.F,"Object",{assign:xr});var Mr=c.Object.assign,Dr=r(i((function(e){e.exports={default:Mr,__esModule:!0}})));T(T.S,"Object",{create:oe});var Ir=c.Object,Pr=function(e,t){return Ir.create(e,t)},Br=r(i((function(e){e.exports={default:Pr,__esModule:!0}}))),Nr=Br(null);function Ur(e,t){var n=e.__evt_id;n||(Object.defineProperty(e,"__evt_id",{writable:!0,enumerable:!1,configurable:!0}),n=e.__evt_id=++Nr.count);var r=n+"_"+t,i=Nr[r];return i||(i=Nr[r]=[]),i}function Fr(e,t,n){var r=Br(null);r.type=t,r.target=e,n&&Dr(r,fn(n)?n:{data:n}),Ur(e,t).forEach((function(t){(t[1]||t[0]).apply(e,[r])}))}function jr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments[4];dn(r)&&!i&&(i=r,r=void 0);var o=[n,void 0,r];r&&!i&&(i=function(){Gr(e,t,n,r);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];n.apply(e,o)}),i&&(o[1]=i),Ur(e,t).push(o)}function Gr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Ur(e,t);if(n||r){var o=-1,s=void 0;return i.find((function(e,t){if((!n||e[0]===n)&&(!r||e[2]))return o=t,s=e[1],!0})),-1!==o&&i.splice(o,1),s}i.length=0}Nr.count=0;var Vr=function(){function e(t,n){var r=this;if(Lr(this,e),Object.defineProperty(this,"__target",{writable:!0,enumerable:!1,configurable:!0}),this.__target=this,t){if("object"!==(void 0===t?"undefined":Ht(t)))throw new Error("CusEvent target are not object");this.__target=t,n&&["on","once","off","emit"].forEach((function(e){t[e]=r[e]}))}}return kr(e,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return jr(this.__target,e,t,n),this}},{key:"once",value:function(e,t){return this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Gr(this.__target,e,t,n),this}},{key:"emit",value:function(e,t){return Fr(this.__target,e,{data:t}),this}}]),e}(),zr=yr?document.createElement("div"):{},Kr="innerText";"textContent"in zr&&(Kr="textContent");var Hr=Array.prototype;function Wr(e,t){return e.getAttribute(t)}function qr(e,t,n){void 0===n?e.removeAttribute(t):e.setAttribute(t,n)}function $r(e,t){if(t&&(t=t.trim())){var n=t.split(/\s+/);if(e.classList)n.forEach((function(t){return e.classList.add(t)}));else{var r=" "+(e.className||"")+" ";n.forEach((function(e){-1===r.indexOf(" "+e+" ")&&(r+=" "+e)})),e.className=r.trim()}}}function Yr(e,t){if(t&&(t=t.trim())){var n=t.split(/\s+/);if(e.classList)n.forEach((function(t){return e.classList.remove(t)}));else{var r=" "+e.className+" ";n.forEach((function(e){for(var t=" "+e+" ";-1!==r.indexOf(t);)r=r.replace(t," ")})),e.className=r.trim()}}}function Xr(e,t){return new RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e.className)}t.supportsPassive=!1;try{var Jr=Object.defineProperty({},"passive",{get:function(){t.supportsPassive=!0}});yr&&window.addEventListener("test",null,Jr)}catch(e){console.error(e)}function Qr(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(void 0!==o&&!gn(o)&&t.supportsPassive&&(o={passive:!0}),i){var s=Gr(e,n+"_once",r);s&&(r=s)}e.removeEventListener(n,r,o)}function Zr(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(void 0!==o&&!gn(o)&&t.supportsPassive&&(o={passive:!0}),i){var s=r;r=function(){for(var t=arguments.length,a=Array(t),u=0;u<t;u++)a[u]=arguments[u];s.apply(this,a),Qr(e,n,r,i,o)},jr(e,n+"_once",s,r)}e.addEventListener(n,r,o)}function ei(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];void 0!==o&&!gn(o)&&t.supportsPassive&&(o={passive:!0});var s=function(t){var r=si(t.target||t.srcElement,e,!0),o=ii(n,e,!0),s=void 0;o.find?s=o.find((function(e){return r.find((function(t){return e===t}))})):o.forEach((function(e){return!s&&r.forEach((function(t){s||e!==t||(s=t)}))})),s&&i.apply(s,arguments)};jr(e,r+"_delegate_"+n,i,s),e.addEventListener(r,s,o)}function ti(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];void 0!==o&&!gn(o)&&t.supportsPassive&&(o={passive:!0});var s=Gr(e,r+"_delegate_"+n,i);s&&e.removeEventListener(r,s,o)}function ni(e,t){return(e.currentStyle||document.defaultView.getComputedStyle(e,null))[t]||e.style[t]}function ri(e,t,n){if(fn(t))for(var r in t)ri(e,r,t[r]);else e.style[t]=n}function ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=arguments[2],r=t.querySelectorAll(e);return n?Ne(r):r}function oi(e){e.parentNode.removeChild(e)}function si(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],r=arguments[3],i=[];for(n&&i.push(e);e&&e.parentNode!==t;)(e=e.parentNode)&&i.push(e);return r&&i.push(t),i}var ai=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;Lr(this,e);var r=this;r.selector=t;var i=void 0;t&&t.constructor===NodeList?i=br(t):hn(t)?i=t:mn(t)?0===t.indexOf("<")?(zr.innerHTML=t,i=ii("*",zr,!0)):i=ii(t,n,!0):i=[t],Dr(r,i),r.length=i.length}return kr(e,[{key:"each",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Hr.forEach.apply(this,t),this}},{key:"push",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Hr.push.apply(this,t),this}},{key:"splice",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ui(Hr.splice.apply(this,t))}},{key:"find",value:function(e){var t=[];this.each((function(n){t=t.concat(ii(e,n,!0))}));var n=ui(t);return n.parent=this,n.selector=e,n}},{key:"append",value:function(e){var t=ui(e),n=this[0];return t.each((function(e){return n.appendChild(e)})),this}},{key:"appendTo",value:function(e){return ui(e).append(this),this}},{key:"text",value:function(e){return 0===arguments.length?this[0][Kr]:this.each((function(t){t[Kr]=e}))}},{key:"html",value:function(e){return 0===arguments.length?this[0].innerHTML:this.each((function(t){t.innerHTML=e}))}},{key:"attr",value:function(e,t){return 1===arguments.length?Wr(this[0],e):this.each((function(n){return qr(n,e,t)}))}},{key:"data",value:function(e,t){return 0===arguments.length?this[0].dataset||{}:1===arguments.length?(this[0].dataset||{})[e]:this.each((function(n){(n.dataset||(n.dataset={}))[e]=t}))}},{key:"css",value:function(e,t){return 1!==arguments.length||fn(e)?this.each((function(n){return ri(n,e,t)})):ni(this[0],e)}},{key:"addClass",value:function(e){return this.each((function(t){return $r(t,e)}))}},{key:"removeClass",value:function(e){return this.each((function(t){return Yr(t,e)}))}},{key:"hasClass",value:function(e){return Xr(this[0],e)}},{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.each((function(i){return Zr(i,e,t,n,r)}))}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.each((function(i){return Qr(i,e,t,n,r)}))}},{key:"delegate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.each((function(i){return ei(i,e,t,n,r)}))}},{key:"undelegate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.each((function(i){return ti(i,e,t,n,r)}))}},{key:"remove",value:function(){return this.each((function(e){return oi(e)}))}}]),e}();function ui(e,t){return e.constructor===ai?e:new ai(e,t)}function li(e,t){if(!mn(e))throw new TypeError("Log's method only acccept string as argument, but not "+e+" in "+(void 0===e?"undefined":Ht(e)));return mn(t)?"["+(e=ci.FORCE_GLOBAL_TAG?ci.GLOBAL_TAG:e||ci.GLOBAL_TAG)+"] > "+t:"["+ci.GLOBAL_TAG+"] > "+e}var ci=function(){function e(){Lr(this,e)}return kr(e,null,[{key:"error",value:function(t,n){e.ENABLE_ERROR&&(console.error||console.warn||console.log).call(console,li(t,n))}},{key:"info",value:function(t,n){e.ENABLE_INFO&&(console.info||console.log).call(console,li(t,n))}},{key:"warn",value:function(t,n){e.ENABLE_WARN&&(console.warn||console.log).call(console,li(t,n))}},{key:"debug",value:function(t,n){e.ENABLE_DEBUG&&(console.debug||console.log).call(console,li(t,n))}},{key:"verbose",value:function(t,n){e.ENABLE_VERBOSE&&console.log(li(t,n))}}]),e}();ci.GLOBAL_TAG="chimee",ci.FORCE_GLOBAL_TAG=!1,ci.ENABLE_ERROR=!0,ci.ENABLE_INFO=!0,ci.ENABLE_WARN=!0,ci.ENABLE_DEBUG=!0,ci.ENABLE_VERBOSE=!0;var hi=i((function(e,t){!function(n,r){var i="model",o="name",s="type",a="vendor",u="version",l="mobile",c="tablet",h={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},d={rgx:function(e,t){for(var n,r,i,o,s,a,u=0;u<t.length&&!s;){var l=t[u],c=t[u+1];for(n=r=0;n<l.length&&!s;)if(s=l[n++].exec(e))for(i=0;i<c.length;i++)a=s[++r],"object"==typeof(o=c[i])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):void 0:this[o[0]]=a?o[1].call(this,a,o[2]):void 0:4==o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;u+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(h.has(t[n][r],e))return"?"===n?void 0:n}else if(h.has(t[n],e))return"?"===n?void 0:n;return e}},f={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},_={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[o,u],[/(opios)[\/\s]+([\w\.]+)/i],[[o,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[o,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[o,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[o,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[o,u],[/(yabrowser)\/([\w\.]+)/i],[[o,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[o,"Puffin"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[o,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[o,"WeChat"],u],[/(QQ)\/([\d\.]+)/i],[o,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[o,u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[o,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[o,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[u,[o,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[o,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[o,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[o,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[o,u],[/(dolfin)\/([\w\.]+)/i],[[o,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[o,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[o,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[o,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[o,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,o],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[o,"GSA"],u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o,[u,d.str,f.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[o,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[o,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[i,a,[s,c]],[/applecoremedia\/[\w\.]+ \((ipad)/],[i,[a,"Apple"],[s,c]],[/(apple\s{0,1}tv)/i],[[i,"Apple TV"],[a,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,i,[s,c]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[i,[a,"Amazon"],[s,c]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[i,d.str,f.device.amazon.model],[a,"Amazon"],[s,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[i,a,[s,l]],[/\((ip[honed|\s\w*]+);/i],[i,[a,"Apple"],[s,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,i,[s,l]],[/\(bb10;\s(\w+)/i],[i,[a,"BlackBerry"],[s,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[i,[a,"Asus"],[s,c]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[i,"Xperia Tablet"],[s,c]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[i,[a,"Sony"],[s,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,i,[s,"console"]],[/android.+;\s(shield)\sbuild/i],[i,[a,"Nvidia"],[s,"console"]],[/(playstation\s[34portablevi]+)/i],[i,[a,"Sony"],[s,"console"]],[/(sprint\s(\w+))/i],[[a,d.str,f.device.sprint.vendor],[i,d.str,f.device.sprint.model],[s,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[a,i,[s,c]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[a,[i,/_/g," "],[s,l]],[/(nexus\s9)/i],[i,[a,"HTC"],[s,c]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[i,[a,"Huawei"],[s,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[a,i,[s,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[i,[a,"Microsoft"],[s,"console"]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[a,"Microsoft"],[s,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[i,[a,"Motorola"],[s,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[i,[a,"Motorola"],[s,c]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,h.trim],[i,h.trim],[s,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[a,"Samsung"],[s,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[i,[a,"Sharp"],[s,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],i,[s,c]],[/smart-tv.+(samsung)/i],[a,[s,"smarttv"],i],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[a,"Samsung"],i,[s,l]],[/sie-(\w+)*/i],[i,[a,"Siemens"],[s,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[a,"Nokia"],i,[s,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[i,[a,"Acer"],[s,c]],[/android.+([vl]k\-?\d{3})\s+build/i],[i,[a,"LG"],[s,c]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],i,[s,c]],[/(lg) netcast\.tv/i],[a,i,[s,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[i,[a,"LG"],[s,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[i,[a,"Lenovo"],[s,c]],[/linux;.+((jolla));/i],[a,i,[s,l]],[/((pebble))app\/[\d\.]+\s/i],[a,i,[s,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,i,[s,l]],[/crkey/i],[[i,"Chromecast"],[a,"Google"]],[/android.+;\s(glass)\s\d/i],[i,[a,"Google"],[s,"wearable"]],[/android.+;\s(pixel c)\s/i],[i,[a,"Google"],[s,c]],[/android.+;\s(pixel xl|pixel)\s/i],[i,[a,"Google"],[s,l]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[i,/_/g," "],[a,"Xiaomi"],[s,l]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[i,/_/g," "],[a,"Xiaomi"],[s,c]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[i,[a,"Meizu"],[s,c]],[/android.+a000(1)\s+build/i],[i,[a,"OnePlus"],[s,l]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[i,[a,"RCA"],[s,c]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[i,[a,"Dell"],[s,c]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[i,[a,"Verizon"],[s,c]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[a,"Barnes & Noble"],i,[s,c]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[i,[a,"NuVision"],[s,c]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[a,"ZTE"],i,[s,c]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[i,[a,"Swiss"],[s,l]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[i,[a,"Swiss"],[s,c]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[i,[a,"Zeki"],[s,c]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[a,"Dragon Touch"],i,[s,c]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[i,[a,"Insignia"],[s,c]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[i,[a,"NextBook"],[s,c]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[a,"Voice"],i,[s,l]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[a,"LvTel"],i,[s,l]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[i,[a,"Envizen"],[s,c]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[a,i,[s,c]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[i,[a,"MachSpeed"],[s,c]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[a,i,[s,c]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[i,[a,"Rotor"],[s,c]],[/android.+(KS(.+))\s+build/i],[i,[a,"Amazon"],[s,c]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[a,i,[s,c]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[s,h.lowerize],a,i],[/(android.+)[;\/].+build/i],[i,[a,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[o,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[o,u],[/rv\:([\w\.]+).*(gecko)/i],[u,o]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[o,[u,d.str,f.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o,"Windows"],[u,d.str,f.os.windows.version]],[/\((bb)(10);/i],[[o,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[o,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[o,"Symbian"],u],[/\((series40);/i],[o],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[o,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[o,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[o,u],[/(haiku)\s(\w+)/i],[o,u],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[u,/_/g,"."],[o,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[o,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[o,u]]},p=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof p))return new p(e,t).getResult();var r=e||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),i=t?h.extend(_,t):_;return this.getBrowser=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,r,i.browser),e.major=h.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return d.rgx.call(e,r,i.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return d.rgx.call(e,r,i.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,r,i.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,r,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};p.VERSION="0.7.17",p.BROWSER={NAME:o,MAJOR:"major",VERSION:u},p.CPU={ARCHITECTURE:"architecture"},p.DEVICE={MODEL:i,VENDOR:a,TYPE:s,CONSOLE:"console",MOBILE:l,SMARTTV:"smarttv",TABLET:c,WEARABLE:"wearable",EMBEDDED:"embedded"},p.ENGINE={NAME:o,VERSION:u},p.OS={NAME:o,VERSION:u},e.exports&&(t=e.exports=p),t.UAParser=p;var m=n&&(n.jQuery||n.Zepto);if(void 0!==m){var g=new p;m.ua=g.getResult(),m.ua.get=function(){return g.getUA()},m.ua.set=function(e){g.setUA(e);var t=g.getResult();for(var n in t)m.ua[n]=t[n]}}}("object"==typeof window?window:n)}));hi.UAParser,t.Log=ci,t.UAParser=hi,t.genTraversalHandler=bn,t.deepClone=function(e){if(vn(e))throw new TypeError("deepClone only accept non primitive type");return wn(e)},t.deepAssign=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<2)throw new Error("deepAssign accept two and more argument");for(var r=t.length-1;r>-1;r--)if(vn(t[r]))throw new TypeError("deepAssign only accept non primitive type");var i=t.shift();return t.forEach((function(e){return wn(e,i)})),i},t.camelize=En,t.hypenate=function(e){return En(e).replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))},t.bind=function(e,t){return e.bind?e.bind(t):e.apply?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(t,r)}:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.call.apply(e,[t].concat(Ue(r)))}},t.uuid=function(){return Sn()+Sn()+"-"+Sn()+"-"+Sn()+"-"+Sn()+"-"+Sn()+Sn()+Sn()},t.S4=Sn,t.rand=function(e){for(var t="";t.length<e;)t+=Sn();return t.slice(0,e)},t.getDeepProperty=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.throwError,i=void 0!==r&&r,o=n.backup;if(mn(t)&&(t=t.split(".")),!hn(t))throw new TypeError("keys of getDeepProperty must be string or Array<string>");for(var s=[],a=e,u=0,l=t.length;u<l;u++){var c=t[u];if(cn(a)){if(i)throw new Error("obj"+(s.length>0?"."+s.join("."):" itself")+" is "+a);return o}a=a[c],s.push(c)}return a},t.defined=function(e){return void 0!==e},t.isVoid=cn,t.isArray=hn,t.isFunction=dn,t.isObject=fn,t.isNumber=_n,t.isNumeric=function(e){return!hn(e)&&e-ln(e)+1>=0},t.isInteger=function(e){return Xt(e)},t.isEmpty=function(e){return hn(e)?0===e.length:fn(e)?0===qt(e).length:!e},t.isEvent=function(e){return e instanceof Event||(e&&e.originalEvent)instanceof Event},t.isBlob=pn,t.isFile=function(e){return pn(e)&&mn(e.name)},t.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},t.isString=mn,t.isBoolean=gn,t.isPromise=function(e){return!!e&&("object"===(void 0===e?"undefined":Ht(e))||"function"==typeof e)&&"function"==typeof e.then},t.isPrimitive=vn,t.isUrl=function(e){return mn(e)&&!!e.match(/^((https?|ftp|rtsp|mms):\/\/)(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6}|localhost)(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+\/?)$/i)},t.isNode=yn,t.isElement=function(e){return!!("object"===("undefined"==typeof HTMLElement?"undefined":Ht(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":Ht(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)},t.isChildNode=function(e,t){return!(!yn(e)||!yn(t))&&t.parentNode===e},t.isPosterityNode=function(e,t){if(!yn(e)||!yn(t))return!1;for(;t.parentNode;)if((t=t.parentNode)===e)return!0;return!1},t.isHTMLString=function(e){return/<[^>]+?>/.test(e)},t.isError=function(e){return e instanceof Error},t.isRegExp=function(e){return e instanceof RegExp},t.inBrowser=yr,t.makeArray=br,t.transObjectAttrIntoArray=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return+e-+t};return qt(e).sort(t).reduce((function(t,n){return t.concat(e[n])}),[])},t.runRejectableQueue=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new vr((function(t,r){!function i(o){if(!(o>=e.length)){var s=dn(e[o])?e[o].apply(e,Ue(n)):e[o];return!1===s?r("stop"):vr.resolve(s).then((function(){return i(o+1)})).catch((function(e){return r(e||"stop")}))}t()}(0)}))},t.runStoppableQueue=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function t(r){return r>=e.length||!1!==(dn(e[r])?e[r].apply(e,Ue(n)):e[r])&&t(++r)};return i(0)},t.decodeUTF8=function(e){for(var t=[],n=e,r=0,i=e.length;r<i;)if(n[r]<128)t.push(String.fromCharCode(n[r])),++r;else{if(n[r]<192);else if(n[r]<224){if(wr(n,r,1)){var o=(31&n[r])<<6|63&n[r+1];if(o>=128){t.push(String.fromCharCode(65535&o)),r+=2;continue}}}else if(n[r]<240){if(wr(n,r,2)){var s=(15&n[r])<<12|(63&n[r+1])<<6|63&n[r+2];if(s>=2048&&55296!=(63488&s)){t.push(String.fromCharCode(65535&s)),r+=3;continue}}}else if(n[r]<248&&wr(n,r,3)){var a=(7&n[r])<<18|(63&n[r+1])<<12|(63&n[r+2])<<6|63&n[r+3];if(a>65536&&a<1114112){a-=65536,t.push(String.fromCharCode(a>>>10|55296)),t.push(String.fromCharCode(1023&a|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join("")},t.debounce=function(e,t,n){var r=void 0,i=void 0,o=void 0,s=void 0,a=void 0,u=function u(){var l=new Date-s;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(a=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=new Date;var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(a=e.apply(o,i),o=i=null),a}},t.throttle=function(e,t,n,r){var i=void 0,o=void 0,s=void 0,a=null,u=0;n||(n={});var l=function(){u=!1===n.leading?0:new Date-0,a=null,s=e.apply(i,o),a||(i=o=null)};return t=t||0,function(){var c=new Date;u||!1!==n.leading||(u=c);var h=t-(c-u);return i=r||this,o=arguments,h<=0||h>t?(a&&(clearTimeout(a),a=null),u=c,s=e.apply(i,o),a||(i=o=null)):a||!1===n.trailing||(a=setTimeout(l,h)),s}},t.raf=Er,t.caf=Sr,t.strRepeat=Ar,t.formatTime=function(e){var t=Math.floor(e/3600);e=Math.floor(e%3600);var n=Ar(Math.floor(e/60),2),r=Ar(e=Math.floor(e%60),2);return t>=1?t+":"+n+":"+r:n+":"+r},t.appendCSS=function(e){var t=document,n=t.querySelector("style");if(!n){n=t.createElement("style");var r=t.querySelector("head");r&&r.appendChild(n)}return n.appendChild(t.createTextNode(e)),n},t.formatDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss.i",n=e.getFullYear().toString(),r={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),i:e.getMilliseconds()};t=t.replace(/(y+)/gi,(function(e,t){return n.substr(4-Math.min(4,t.length))}));var i=function(e){t=t.replace(new RegExp("("+e+"+)","g"),(function(t,n){return(r[e]<10&&n.length>1?"0":"")+r[e]}))};for(var o in r)i(o);return t},t.getLocalStorage=function(e){try{return window.localStorage.getItem(e)}catch(n){try{var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return hn(t)?unescape(t[2]):""}catch(e){return""}}},t.setLocalStorage=function(e,t){try{window.localStorage.setItem(e,t)}catch(r){var n=new Date;n.setTime(n.getTime()+2592e7);try{document.cookie=e+"="+escape(t)+";expires="+n.toUTCString()+";path=/;"}catch(e){console.error(e)}}},t.emitEventCache=Fr,t.addEventCache=jr,t.removeEventCache=Gr,t.CustEvent=Vr,t.getAttr=Wr,t.setAttr=qr,t.addClassName=$r,t.removeClassName=Yr,t.hasClassName=Xr,t.removeEvent=Qr,t.addEvent=Zr,t.addDelegate=ei,t.removeDelegate=ti,t.getStyle=ni,t.setStyle=ri,t.query=ii,t.removeEl=oi,t.findParents=si,t.NodeWrap=ai,t.$=ui,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,n("24aa"))},3787:function(e,t,n){n("c183");var r=n("5524").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},"393a":function(e,t,n){"use strict";var r=n("e444"),i=n("512c"),o=n("ba01"),s=n("051b"),a=n("8a0d"),u=n("26dd"),l=n("92f0"),c=n("ce7a"),h=n("cc15")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,_,p,m,g){u(n,t,_);var v,y,b,w=function(e){if(!d&&e in L)return L[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",S="values"==p,A=!1,L=e.prototype,R=L[h]||L["@@iterator"]||p&&L[p],O=R||w(p),T=p?S?w("entries"):O:void 0,k="Array"==t&&L.entries||R;if(k&&(b=c(k.call(new e)))!==Object.prototype&&b.next&&(l(b,E,!0),r||"function"==typeof b[h]||s(b,h,f)),S&&R&&"values"!==R.name&&(A=!0,O=function(){return R.call(this)}),r&&!g||!d&&!A&&L[h]||s(L,h,O),a[t]=O,a[E]=f,p)if(v={values:S?O:w("values"),keys:m?O:w("keys"),entries:T},g)for(y in v)y in L||o(L,y,v[y]);else i(i.P+i.F*(d||A),t,v);return v}},"39ad":function(e,t,n){var r=n("6ca1"),i=n("d16a"),o=n("9d11");e.exports=function(e){return function(t,n,s){var a,u=r(t),l=i(u.length),c=o(s,l);if(e&&n!=n){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},4117:function(e,t,n){n("c5f3"),e.exports=n("5524").Object.setPrototypeOf},4849:function(e,t,n){e.exports={default:n("3787"),__esModule:!0}},"4b8b":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"4d20":function(e,t,n){var r=n("1917"),i=n("10db"),o=n("6ca1"),s=n("3397"),a=n("9c0e"),u=n("faf5"),l=Object.getOwnPropertyDescriptor;t.f=n("0bad")?l:function(e,t){if(e=o(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},"4d88":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"4e71":function(e,t,n){n("e198")("observable")},"4ebc":function(e,t,n){var r=n("4d88");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"511f":function(e,t,n){n("0b99"),n("658f"),e.exports=n("fcd4").f("iterator")},"512c":function(e,t,n){var r=n("ef08"),i=n("5524"),o=n("9c0c"),s=n("051b"),a=n("9c0e"),u=function(e,t,n){var l,c,h,d=e&u.F,f=e&u.G,_=e&u.S,p=e&u.P,m=e&u.B,g=e&u.W,v=f?i:i[t]||(i[t]={}),y=v.prototype,b=f?r:_?r[t]:(r[t]||{}).prototype;for(l in f&&(n=t),n)(c=!d&&b&&void 0!==b[l])&&a(v,l)||(h=c?b[l]:n[l],v[l]=f&&"function"!=typeof b[l]?n[l]:m&&c?o(h,r):g&&b[l]==h?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):p&&"function"==typeof h?o(Function.call,h):h,p&&((v.virtual||(v.virtual={}))[l]=h,e&u.R&&y&&!y[l]&&s(y,l,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},5524:function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},"554d":function(e,t,n){"use strict";n("ac1f"),n("466d");var r=n("4ee5"),i=n.n(r),o=n("18d3"),s=n.n(o),a=n("5603"),u=n.n(a),l=n("f23f0"),c=n.n(l);t.a=function(e,t){return function(e,t){navigator.userAgent.match(/(iPhone|iPod|Android|ios|iPad)/i)?new i.a({wrapper:"#wrapper",src:e,isLive:t,autoplay:!0,controls:!0,playsInline:!0,preload:"auto",x5VideoPlayerFullscreen:!0,x5VideoOrientation:"landscape|portrait",xWebkitAirplay:!0,muted:!0,box:"native",disableUA:["Mozilla/5.0 (Linux; Android 4.4.2; HM NOTE 1TD Build/KOT49H; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/62.0.3202.97 Mobile Safari/537.36"]}).play():new i.a({wrapper:"#wrapper",src:e,autoplay:!0,type:t,isLive:t,controls:!0,kernels:{hls:c.a,flv:s.a,flvjs:u.a}}).play()}(e,t)}},5603:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i,o=r(n("24ee")),s=r(n("1098")),a=r(n("633f")),u=r(n("8827")),l=r(n("158c")),c=r(n("57ba")),h=r(n("9918")),d=r(n("1947")),f=n("34c3"),_=n("eec3");var p,m,g,v,y,b,w="chimee-kernel-flv.js",E=(i=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u(this,t);var i=l(this,(t.__proto__||a(t)).call(this));if(i.version="0.2.0",!f.isElement(e))throw new Error("video element passed in "+w+" must be a HTMLVideoElement, but not "+(void 0===e?"undefined":s(e)));if(!f.isObject(n))throw new Error("config of "+w+" must be an Object but not "+(void 0===n?"undefined":s(n)));i.video=e,i.config=n;var o=n.src,c=n.isLive,h=n.box,_=r.withCredentials,p=r.hasAudio,m=r.hasVideo,g=r.duration,v=r.filesize,y=r.segments,b={url:o,type:h,isLive:c,withCredentials:_,hasAudio:p,hasVideo:m,duration:g,filesize:v};return"mp4"!==h&&(b.segments=y),i.mediaDataSource=b,i.customConfig=r,i.flvKernel=d.createPlayer(b,r),i.bindEvents(),i.attachMedia(),i}return h(t,e),c(t,null,[{key:"isSupport",value:function(){return d.isSupported()}}]),c(t,[{key:"bindEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.flvKernel;t&&t[e?"off":"on"](d.Events.ERROR,this.flvErrorHandler)}},{key:"load",value:function(){return this.flvKernel.load()}},{key:"stopLoad",value:function(){return this.flvKernel.unload()}},{key:"attachMedia",value:function(){return this.flvKernel.attachMediaElement(this.video)}},{key:"play",value:function(){return this.flvKernel.play()}},{key:"destroy",value:function(){return this.bindEvents(!0),this.flvKernel.detachMediaElement(),this.flvKernel.destroy()}},{key:"seek",value:function(e){this.flvKernel.currentTime=e}},{key:"pause",value:function(){return this.flvKernel.pause()}},{key:"refresh",value:function(){return this.flvKernel.unload(),this.flvKernel.load()}},{key:"flvErrorHandler",value:function(e,t){this.emit("error",t),this.emit(e,t),f.Log.error(w+(e?" "+e:""),t.details)}}]),t}(f.CustEvent),p=i.prototype,m="flvErrorHandler",g=[_.autobind],v=o(i.prototype,"flvErrorHandler"),y=i.prototype,b={},Object.keys(v).forEach((function(e){b[e]=v[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=g.slice().reverse().reduce((function(e,t){return t(p,m,e)||e}),b),y&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(y):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(p,m,b),b=null),i);e.exports=E},"57ba":function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("4849"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},"5a94":function(e,t,n){var r=n("b367")("keys"),i=n("8b1a");e.exports=function(e){return r[e]||(r[e]=i(e))}},"633f":function(e,t,n){e.exports={default:n("2ebd"),__esModule:!0}},6438:function(e,t,n){var r=n("03d6"),i=n("9742").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},"658f":function(e,t,n){n("6858");for(var r=n("ef08"),i=n("051b"),o=n("8a0d"),s=n("cc15")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var l=a[u],c=r[l],h=c&&c.prototype;h&&!h[s]&&i(h,s,l),o[l]=o.Array}},"65b9":function(e,t,n){n("91ca");var r=n("5524").Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},6858:function(e,t,n){"use strict";var r=n("2f9a"),i=n("ea34"),o=n("8a0d"),s=n("6ca1");e.exports=n("393a")(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},"693d":function(e,t,n){"use strict";var r=n("ef08"),i=n("9c0e"),o=n("0bad"),s=n("512c"),a=n("ba01"),u=n("e34a").KEY,l=n("4b8b"),c=n("b367"),h=n("92f0"),d=n("8b1a"),f=n("cc15"),_=n("fcd4"),p=n("e198"),m=n("0ae2"),g=n("4ebc"),v=n("77e9"),y=n("7a41"),b=n("0983"),w=n("6ca1"),E=n("3397"),S=n("10db"),A=n("6f4f"),L=n("1836"),R=n("4d20"),O=n("fed5"),T=n("1a14"),k=n("9876"),C=R.f,x=T.f,M=L.f,D=r.Symbol,I=r.JSON,P=I&&I.stringify,B=f("_hidden"),N=f("toPrimitive"),U={}.propertyIsEnumerable,F=c("symbol-registry"),j=c("symbols"),G=c("op-symbols"),V=Object.prototype,z="function"==typeof D&&!!O.f,K=r.QObject,H=!K||!K.prototype||!K.prototype.findChild,W=o&&l((function(){return 7!=A(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=C(V,t);r&&delete V[t],x(e,t,n),r&&e!==V&&x(V,t,r)}:x,q=function(e){var t=j[e]=A(D.prototype);return t._k=e,t},$=z&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},Y=function(e,t,n){return e===V&&Y(G,t,n),v(e),t=E(t,!0),v(n),i(j,t)?(n.enumerable?(i(e,B)&&e[B][t]&&(e[B][t]=!1),n=A(n,{enumerable:S(0,!1)})):(i(e,B)||x(e,B,S(1,{})),e[B][t]=!0),W(e,t,n)):x(e,t,n)},X=function(e,t){v(e);for(var n,r=m(t=w(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},J=function(e){var t=U.call(this,e=E(e,!0));return!(this===V&&i(j,e)&&!i(G,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,B)&&this[B][e])||t)},Q=function(e,t){if(e=w(e),t=E(t,!0),e!==V||!i(j,t)||i(G,t)){var n=C(e,t);return!n||!i(j,t)||i(e,B)&&e[B][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=M(w(e)),r=[],o=0;n.length>o;)i(j,t=n[o++])||t==B||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===V,r=M(n?G:w(e)),o=[],s=0;r.length>s;)!i(j,t=r[s++])||n&&!i(V,t)||o.push(j[t]);return o};z||(a((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(G,n),i(this,B)&&i(this[B],e)&&(this[B][e]=!1),W(this,e,S(1,n))};return o&&H&&W(V,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),R.f=Q,T.f=Y,n("6438").f=L.f=Z,n("1917").f=J,O.f=ee,o&&!n("e444")&&a(V,"propertyIsEnumerable",J,!0),_.f=function(e){return q(f(e))}),s(s.G+s.W+s.F*!z,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)f(te[ne++]);for(var re=k(f.store),ie=0;re.length>ie;)p(re[ie++]);s(s.S+s.F*!z,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=D(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!z,"Object",{create:function(e,t){return void 0===t?A(e):X(A(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var oe=l((function(){O.f(1)}));s(s.S+s.F*oe,"Object",{getOwnPropertySymbols:function(e){return O.f(b(e))}}),I&&s(s.S+s.F*(!z||l((function(){var e=D();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(y(t)||void 0!==e)&&!$(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,P.apply(I,r)}}),D.prototype[N]||n("051b")(D.prototype,N,D.prototype.valueOf),h(D,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},"6ca1":function(e,t,n){var r=n("9fbb"),i=n("c901");e.exports=function(e){return r(i(e))}},"6f4f":function(e,t,n){var r=n("77e9"),i=n("85e7"),o=n("9742"),s=n("5a94")("IE_PROTO"),a=function(){},u=function(){var e,t=n("05f5")("iframe"),r=o.length;for(t.style.display="none",n("9141").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},7336:function(e,t,n){var r=n("512c"),i=n("5524"),o=n("4b8b");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},"76ef":function(e,t,n){var r=n("512c");r(r.S,"Object",{create:n("6f4f")})},"77e9":function(e,t,n){var r=n("7a41");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"7a41":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8119:function(e,t,n){n("693d"),n("dfe5"),n("301c"),n("4e71"),e.exports=n("5524").Symbol},"85e7":function(e,t,n){var r=n("1a14"),i=n("77e9"),o=n("9876");e.exports=n("0bad")?Object.defineProperties:function(e,t){i(e);for(var n,s=o(t),a=s.length,u=0;a>u;)r.f(e,n=s[u++],t[n]);return e}},8827:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"8a0d":function(e,t){e.exports={}},"8b1a":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},9141:function(e,t,n){var r=n("ef08").document;e.exports=r&&r.documentElement},"91ca":function(e,t,n){var r=n("6ca1"),i=n("4d20").f;n("7336")("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},"92f0":function(e,t,n){var r=n("1a14").f,i=n("9c0e"),o=n("cc15")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},9742:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},9876:function(e,t,n){var r=n("03d6"),i=n("9742");e.exports=Object.keys||function(e){return r(e,i)}},9918:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n("b373")),i=s(n("0325")),o=s(n("1098"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},"9c0c":function(e,t,n){var r=n("1609");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"9c0e":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"9d11":function(e,t,n){var r=n("fc5e"),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},"9fbb":function(e,t,n){var r=n("4d88");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},b258:function(e,t,n){"use strict";n("e464")},b367:function(e,t,n){var r=n("5524"),i=n("ef08"),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("e444")?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},b373:function(e,t,n){e.exports={default:n("4117"),__esModule:!0}},ba01:function(e,t,n){e.exports=n("051b")},bcd6:function(e,t,n){n("76ef");var r=n("5524").Object;e.exports=function(e,t){return r.create(e,t)}},c183:function(e,t,n){var r=n("512c");r(r.S+r.F*!n("0bad"),"Object",{defineProperty:n("1a14").f})},c5f3:function(e,t,n){var r=n("512c");r(r.S,"Object",{setPrototypeOf:n("0eb4").set})},c901:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},cc15:function(e,t,n){var r=n("b367")("wks"),i=n("8b1a"),o=n("ef08").Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=r},ce7a:function(e,t,n){var r=n("9c0e"),i=n("0983"),o=n("5a94")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},d16a:function(e,t,n){var r=n("fc5e"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},d2be:function(e,t){var n=arguments[3],r=arguments[4],i=arguments[5],o=JSON.stringify;e.exports=function(e,t){for(var s,a=Object.keys(i),u=0,l=a.length;u<l;u++){var c=a[u],h=i[c].exports;if(h===e||h&&h.default===e){s=c;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var d={};for(u=0,l=a.length;u<l;u++){d[c=a[u]]=c}r[s]=["function(require,module,exports){"+e+"(self); }",d]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),_={};_[s]=s,r[f]=["function(require,module,exports){var f = require("+o(s)+");(f.default ? f.default : f)(self);}",_];var p={};!function e(t){for(var n in p[t]=!0,r[t][1]){var i=r[t][1][n];p[i]||e(i)}}(f);var m="("+n+")({"+Object.keys(p).map((function(e){return o(e)+":["+r[e][0]+","+o(r[e][1])+"]"})).join(",")+"},{},["+o(f)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([m],{type:"text/javascript"});if(t&&t.bare)return v;var y=g.createObjectURL(v),b=new Worker(y);return b.objectURL=y,b}},dfe5:function(e,t){},e198:function(e,t,n){var r=n("ef08"),i=n("5524"),o=n("e444"),s=n("fcd4"),a=n("1a14").f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},e34a:function(e,t,n){var r=n("8b1a")("meta"),i=n("7a41"),o=n("9c0e"),s=n("1a14").f,a=0,u=Object.isExtensible||function(){return!0},l=!n("4b8b")((function(){return u(Object.preventExtensions({}))})),c=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&h.NEED&&u(e)&&!o(e,r)&&c(e),e}}},e444:function(e,t){e.exports=!0},e464:function(e,t,n){},ea34:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},eec3:function(e,t,n){!function(e){"use strict";function t(e){return e&&e.__esModule?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=Math.ceil,i=Math.floor,o=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)},s=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},a=n((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),u=n((function(e){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)})),l=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},c=function(e){return"object"==typeof e?null!==e:"function"==typeof e},h=function(e){if(!c(e))throw TypeError(e+" is not an object!");return e},d=function(e){try{return!!e()}catch(e){return!0}},f=!d((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),_=a.document,p=c(_)&&c(_.createElement),m=function(e){return p?_.createElement(e):{}},g=!f&&!d((function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a})),v=function(e,t){if(!c(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!c(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},y=Object.defineProperty,b={f:f?Object.defineProperty:function(e,t,n){if(h(e),t=v(t,!0),h(n),g)try{return y(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},w=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},E=f?function(e,t,n){return b.f(e,t,w(1,n))}:function(e,t,n){return e[t]=n,e},S=function(e,t,n){var r,i,o,s=e&S.F,c=e&S.G,h=e&S.S,d=e&S.P,f=e&S.B,_=e&S.W,p=c?u:u[t]||(u[t]={}),m=p.prototype,g=c?a:h?a[t]:(a[t]||{}).prototype;for(r in c&&(n=t),n)(i=!s&&g&&void 0!==g[r])&&r in p||(o=i?g[r]:n[r],p[r]=c&&"function"!=typeof g[r]?n[r]:f&&i?l(o,a):_&&g[r]==o?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(o):d&&"function"==typeof o?l(Function.call,o):o,d&&((p.virtual||(p.virtual={}))[r]=o,e&S.R&&m&&!m[r]&&E(m,r,o)))};S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128;var A,L=S,R=E,O={}.hasOwnProperty,T=function(e,t){return O.call(e,t)},k={},C={}.toString,x=function(e){return C.call(e).slice(8,-1)},M=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==x(e)?e.split(""):Object(e)},D=function(e){return M(s(e))},I=Math.min,P=function(e){return e>0?I(o(e),9007199254740991):0},B=Math.max,N=Math.min,U=a["__core-js_shared__"]||(a["__core-js_shared__"]={}),F=function(e){return U[e]||(U[e]={})},j=0,G=Math.random(),V=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++j+G).toString(36))},z=F("keys"),K=function(e){return z[e]||(z[e]=V(e))},H=(A=!1,function(e,t,n){var r,i=D(e),s=P(i.length),a=function(e,t){return(e=o(e))<0?B(e+t,0):N(e,t)}(n,s);if(A&&t!=t){for(;s>a;)if((r=i[a++])!=r)return!0}else for(;s>a;a++)if((A||a in i)&&i[a]===t)return A||a||0;return!A&&-1}),W=K("IE_PROTO"),q=function(e,t){var n,r=D(e),i=0,o=[];for(n in r)n!=W&&T(r,n)&&o.push(n);for(;t.length>i;)T(r,n=t[i++])&&(~H(o,n)||o.push(n));return o},$="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Y=Object.keys||function(e){return q(e,$)},X=f?Object.defineProperties:function(e,t){h(e);for(var n,r=Y(t),i=r.length,o=0;i>o;)b.f(e,n=r[o++],t[n]);return e},J=a.document&&document.documentElement,Q=K("IE_PROTO"),Z=function(){},ee=function(){var e,t=m("iframe"),n=$.length;for(t.style.display="none",J.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),ee=e.F;n--;)delete ee.prototype[$[n]];return ee()},te=Object.create||function(e,t){var n;return null!==e?(Z.prototype=h(e),n=new Z,Z.prototype=null,n[Q]=e):n=ee(),void 0===t?n:X(n,t)},ne=n((function(e){var t=F("wks"),n=a.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:V)("Symbol."+e))}).store=t})),re=b.f,ie=ne("toStringTag"),oe=function(e,t,n){e&&!T(e=n?e:e.prototype,ie)&&re(e,ie,{configurable:!0,value:t})},se={};E(se,ne("iterator"),(function(){return this}));var ae,ue=function(e,t,n){e.prototype=te(se,{next:w(1,n)}),oe(e,t+" Iterator")},le=function(e){return Object(s(e))},ce=K("IE_PROTO"),he=Object.prototype,de=Object.getPrototypeOf||function(e){return e=le(e),T(e,ce)?e[ce]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?he:null},fe=ne("iterator"),_e=!([].keys&&"next"in[].keys()),pe=function(){return this},me=function(e,t,n,r,i,o,s){ue(n,t,r);var a,u,l,c=function(e){if(!_e&&e in _)return _[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},h=t+" Iterator",d="values"==i,f=!1,_=e.prototype,p=_[fe]||_["@@iterator"]||i&&_[i],m=p||c(i),g=i?d?c("entries"):m:void 0,v="Array"==t&&_.entries||p;if(v&&(l=de(v.call(new e)))!==Object.prototype&&oe(l,h,!0),d&&p&&"values"!==p.name&&(f=!0,m=function(){return p.call(this)}),s&&(_e||f||!_[fe])&&E(_,fe,m),k[t]=m,k[h]=pe,i)if(a={values:d?m:c("values"),keys:o?m:c("keys"),entries:g},s)for(u in a)u in _||R(_,u,a[u]);else L(L.P+L.F*(_e||f),t,a);return a},ge=(ae=!0,function(e,t){var n,r,i=String(s(e)),a=o(t),u=i.length;return a<0||a>=u?ae?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===u||(r=i.charCodeAt(a+1))<56320||r>57343?ae?i.charAt(a):n:ae?i.slice(a,a+2):r-56320+(n-55296<<10)+65536});me(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=ge(t,n),this._i+=e.length,{value:e,done:!1})}));var ve=function(e,t){return{value:t,done:!!e}};me(Array,"Array",(function(e,t){this._t=D(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,ve(1)):ve(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),k.Arguments=k.Array;for(var ye=ne("toStringTag"),be=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],we=0;we<5;we++){var Ee=be[we],Se=a[Ee],Ae=Se&&Se.prototype;Ae&&!Ae[ye]&&E(Ae,ye,Ee),k[Ee]=k.Array}var Le={f:ne},Re=Le.f("iterator"),Oe=n((function(e){e.exports={default:Re,__esModule:!0}})),Te=n((function(e){var t=V("meta"),n=b.f,r=0,i=Object.isExtensible||function(){return!0},o=!d((function(){return i(Object.preventExtensions({}))})),s=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},a=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!c(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!T(e,t)){if(!i(e))return"F";if(!n)return"E";s(e)}return e[t].i},getWeak:function(e,n){if(!T(e,t)){if(!i(e))return!0;if(!n)return!1;s(e)}return e[t].w},onFreeze:function(e){return o&&a.NEED&&i(e)&&!T(e,t)&&s(e),e}}})),ke=b.f,Ce=function(e){var t=u.Symbol||(u.Symbol={});"_"==e.charAt(0)||e in t||ke(t,e,{value:Le.f(e)})},xe={f:Object.getOwnPropertySymbols},Me={f:{}.propertyIsEnumerable},De=Array.isArray||function(e){return"Array"==x(e)},Ie=$.concat("length","prototype"),Pe={f:Object.getOwnPropertyNames||function(e){return q(e,Ie)}},Be=Pe.f,Ne={}.toString,Ue="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Fe={f:function(e){return Ue&&"[object Window]"==Ne.call(e)?function(e){try{return Be(e)}catch(e){return Ue.slice()}}(e):Be(D(e))}},je=Object.getOwnPropertyDescriptor,Ge={f:f?je:function(e,t){if(e=D(e),t=v(t,!0),g)try{return je(e,t)}catch(e){}if(T(e,t))return w(!Me.f.call(e,t),e[t])}},Ve=Te.KEY,ze=Ge.f,Ke=b.f,He=Fe.f,We=a.Symbol,qe=a.JSON,$e=qe&&qe.stringify,Ye=ne("_hidden"),Xe=ne("toPrimitive"),Je={}.propertyIsEnumerable,Qe=F("symbol-registry"),Ze=F("symbols"),et=F("op-symbols"),tt=Object.prototype,nt="function"==typeof We,rt=a.QObject,it=!rt||!rt.prototype||!rt.prototype.findChild,ot=f&&d((function(){return 7!=te(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=ze(tt,t);r&&delete tt[t],Ke(e,t,n),r&&e!==tt&&Ke(tt,t,r)}:Ke,st=function(e){var t=Ze[e]=te(We.prototype);return t._k=e,t},at=nt&&"symbol"==typeof We.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof We},ut=function(e,t,n){return e===tt&&ut(et,t,n),h(e),t=v(t,!0),h(n),T(Ze,t)?(n.enumerable?(T(e,Ye)&&e[Ye][t]&&(e[Ye][t]=!1),n=te(n,{enumerable:w(0,!1)})):(T(e,Ye)||Ke(e,Ye,w(1,{})),e[Ye][t]=!0),ot(e,t,n)):Ke(e,t,n)},lt=function(e,t){h(e);for(var n,r=function(e){var t=Y(e),n=xe.f;if(n)for(var r,i=n(e),o=Me.f,s=0;i.length>s;)o.call(e,r=i[s++])&&t.push(r);return t}(t=D(t)),i=0,o=r.length;o>i;)ut(e,n=r[i++],t[n]);return e},ct=function(e){var t=Je.call(this,e=v(e,!0));return!(this===tt&&T(Ze,e)&&!T(et,e))&&(!(t||!T(this,e)||!T(Ze,e)||T(this,Ye)&&this[Ye][e])||t)},ht=function(e,t){if(e=D(e),t=v(t,!0),e!==tt||!T(Ze,t)||T(et,t)){var n=ze(e,t);return!n||!T(Ze,t)||T(e,Ye)&&e[Ye][t]||(n.enumerable=!0),n}},dt=function(e){for(var t,n=He(D(e)),r=[],i=0;n.length>i;)T(Ze,t=n[i++])||t==Ye||t==Ve||r.push(t);return r},ft=function(e){for(var t,n=e===tt,r=He(n?et:D(e)),i=[],o=0;r.length>o;)!T(Ze,t=r[o++])||n&&!T(tt,t)||i.push(Ze[t]);return i};nt||(R((We=function(){if(this instanceof We)throw TypeError("Symbol is not a constructor!");var e=V(arguments.length>0?arguments[0]:void 0),t=function(n){this===tt&&t.call(et,n),T(this,Ye)&&T(this[Ye],e)&&(this[Ye][e]=!1),ot(this,e,w(1,n))};return f&&it&&ot(tt,e,{configurable:!0,set:t}),st(e)}).prototype,"toString",(function(){return this._k})),Ge.f=ht,b.f=ut,Pe.f=Fe.f=dt,Me.f=ct,xe.f=ft,Le.f=function(e){return st(ne(e))}),L(L.G+L.W+L.F*!nt,{Symbol:We});for(var _t="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),pt=0;_t.length>pt;)ne(_t[pt++]);for(_t=Y(ne.store),pt=0;_t.length>pt;)Ce(_t[pt++]);L(L.S+L.F*!nt,"Symbol",{for:function(e){return T(Qe,e+="")?Qe[e]:Qe[e]=We(e)},keyFor:function(e){if(at(e))return function(e,t){for(var n,r=D(e),i=Y(r),o=i.length,s=0;o>s;)if(r[n=i[s++]]===t)return n}(Qe,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){it=!0},useSimple:function(){it=!1}}),L(L.S+L.F*!nt,"Object",{create:function(e,t){return void 0===t?te(e):lt(te(e),t)},defineProperty:ut,defineProperties:lt,getOwnPropertyDescriptor:ht,getOwnPropertyNames:dt,getOwnPropertySymbols:ft}),qe&&L(L.S+L.F*(!nt||d((function(){var e=We();return"[null]"!=$e([e])||"{}"!=$e({a:e})||"{}"!=$e(Object(e))}))),"JSON",{stringify:function(e){if(void 0!==e&&!at(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(t=r[1])&&(n=t),!n&&De(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!at(t))return t}),r[1]=t,$e.apply(qe,r)}}}),We.prototype[Xe]||E(We.prototype,Xe,We.prototype.valueOf),oe(We,"Symbol"),oe(Math,"Math",!0),oe(a.JSON,"JSON",!0),Ce("asyncIterator"),Ce("observable");var mt,gt,vt,yt,bt=u.Symbol,wt=n((function(e){e.exports={default:bt,__esModule:!0}})),Et=t(n((function(e,t){t.__esModule=!0;var n=o(Oe),r=o(wt),i="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===i(n.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":i(e)}})));mt="keys",gt=function(){return function(e){return Y(le(e))}},vt=(u.Object||{})[mt]||Object[mt],(yt={})[mt]=gt(vt),L(L.S+L.F*d((function(){vt(1)})),"Object",yt);var St=u.Object.keys,At=(n((function(e){e.exports={default:St,__esModule:!0}})),Math.floor);L(L.S,"Number",{isInteger:function(e){return!c(e)&&isFinite(e)&&At(e)===e}});var Lt=u.Number.isInteger,Rt=(n((function(e){e.exports={default:Lt,__esModule:!0}})),"\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"),Ot="["+Rt+"]",Tt=RegExp("^"+Ot+Ot+"*"),kt=RegExp(Ot+Ot+"*$"),Ct=function(e,t,n){var r={},i=d((function(){return!!Rt[e]()||"​"!="​"[e]()})),o=r[e]=i?t(xt):Rt[e];n&&(r[n]=o),L(L.P+L.F*i,"String",r)},xt=Ct.trim=function(e,t){return e=String(s(e)),1&t&&(e=e.replace(Tt,"")),2&t&&(e=e.replace(kt,"")),e},Mt=Ct,Dt=a.parseFloat,It=Mt.trim,Pt=1/Dt(Rt+"-0")!=-1/0?function(e){var t=It(String(e),3),n=Dt(t);return 0===n&&"-"==t.charAt(0)?-0:n}:Dt;L(L.S+L.F*(Number.parseFloat!=Pt),"Number",{parseFloat:Pt});var Bt=parseFloat;function Nt(e){return null==e}function Ut(e){return Array.isArray(e)}function Ft(e){return"function"==typeof e}function jt(e){return Object(e)===e&&"[object Object]"===String(e)&&!Ft(e)&&!Ut(e)}function Gt(e){return"number"==typeof e}function Vt(e){return"string"==typeof e||e instanceof String}function zt(e){return"boolean"==typeof e}function Kt(e){return!!e&&("object"===(void 0===e?"undefined":Et(e))||"function"==typeof e)&&"function"==typeof e.then}function Ht(e){return Nt(e)||zt(e)||Vt(e)||Gt(e)}n((function(e){e.exports={default:Bt,__esModule:!0}}));var Wt=function(e,t,n,r){try{return r?t(h(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&h(i.call(e)),t}},qt=ne("iterator"),$t=Array.prototype,Yt=function(e){return void 0!==e&&(k.Array===e||$t[qt]===e)},Xt=function(e,t,n){t in e?b.f(e,t,w(0,n)):e[t]=n},Jt=ne("toStringTag"),Qt="Arguments"==x(function(){return arguments}()),Zt=ne("iterator"),en=u.getIteratorMethod=function(e){if(null!=e)return e[Zt]||e["@@iterator"]||k[function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Jt))?n:Qt?x(t):"Object"==(r=x(t))&&"function"==typeof t.callee?"Arguments":r}(e)]},tn=ne("iterator"),nn=!1;try{var rn=[7][tn]();rn.return=function(){nn=!0},Array.from(rn,(function(){throw 2}))}catch(e){}L(L.S+L.F*!function(e,t){if(!t&&!nn)return!1;var n=!1;try{var r=[7],i=r[tn]();i.next=function(){return{done:n=!0}},r[tn]=function(){return i},e(r)}catch(e){}return n}((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,r,i,o=le(e),s="function"==typeof this?this:Array,a=arguments.length,u=a>1?arguments[1]:void 0,c=void 0!==u,h=0,d=en(o);if(c&&(u=l(u,a>2?arguments[2]:void 0,2)),null==d||s==Array&&Yt(d))for(n=new s(t=P(o.length));t>h;h++)Xt(n,h,c?u(o[h],h):o[h]);else for(i=d.call(o),n=new s;!(r=i.next()).done;h++)Xt(n,h,c?Wt(i,u,[r.value,h],!0):r.value);return n.length=h,n}});var on=u.Array.from,sn=n((function(e){e.exports={default:on,__esModule:!0}})),an=t(n((function(e,t){t.__esModule=!0;var n,r=(n=sn)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}})));function un(e,t){return e.bind?e.bind(t):e.apply?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(t,r)}:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.call.apply(e,[t].concat(an(r)))}}function ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.throwError,i=void 0!==r&&r,o=n.backup;if(Vt(t)&&(t=t.split(".")),!Ut(t))throw new TypeError("keys of getDeepProperty must be string or Array<string>");for(var s=[],a=e,u=0,l=t.length;u<l;u++){var c=t[u];if(Nt(a)){if(i)throw new Error("obj"+(s.length>0?"."+s.join("."):" itself")+" is "+a);return o}a=a[c],s.push(c)}return a}var cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},dn=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},fn=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},_n=Object.getOwnPropertyDescriptor;function pn(e){if(!e||!e.hasOwnProperty)return!1;for(var t=["value","initializer","get","set"],n=0,r=t.length;n<r;n++)if(e.hasOwnProperty(t[n]))return!0;return!1}function mn(e){return!!e&&(Ft(e.get)||Ft(e.set))&&zt(e.configurable)&&zt(e.enumerable)&&void 0===e.writable}function gn(e){return!!e&&e.hasOwnProperty("value")&&zt(e.configurable)&&zt(e.enumerable)&&zt(e.writable)}function vn(e){return!!e&&Ft(e.initializer)&&zt(e.configurable)&&zt(e.enumerable)&&zt(e.writable)}function yn(e){return function(t){return Object.defineProperty(this,e,{configurable:!0,writable:!0,enumerable:!0,value:t}),t}}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"You must pass me an array of function";if(!Ut(e)||e.length<1)throw new TypeError(t);if(1===e.length){if(!Ft(e[0]))throw new TypeError(t);return e[0]}return e.reduce((function(e,n){if(!Ft(n)||!Ft(e))throw new TypeError(t);return function(t){return un(n,this)(un(e,this)(t))}}))}function wn(e){if(Ft(console.warn))return console.warn(e);console.log(e)}var En,Sn,An=(En=Object.getOwnPropertyNames,Ft(Sn=Object.getOwnPropertySymbols)?function(e){return Array.from(En(e).concat(Sn(e)))}:En),Ln=Ft(Object.getOwnPropertyDescriptors)?Object.getOwnPropertyDescriptors:function(e){return An(e).reduce((function(t,n){return t[n]=_n(e,n),t}),{})};function Rn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new TypeError("You must pass in decorators in compressMultipleDecorators");return t.forEach((function(e){if(!Ft(e))throw new TypeError('Decorators must be a function, but not "'+e+'" in '+(void 0===e?"undefined":cn(e)))})),1===t.length?t[0]:function(e,n,r){return t.reduce((function(t,r){return r(e,n,t)}),r)}}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.get,n=e.set,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.preGet,o=void 0!==i&&i,s=r.preSet,a=void 0===s||s;if(!(Ft(t)||Ft(n)||Ut(t)&&t.length>0||Ut(n)&&n.length>0))throw new TypeError("@accessor need a getter or setter. If you don't need to add setter/getter. You should remove @accessor");var u="@accessor only accept function or array of function as getter/setter";return t=Ut(t)?bn(t,u):t,n=Ut(n)?bn(n,u):n,function(e,r,i){var s=i||{},u=s.configurable,l=void 0===u||u,c=s.enumerable,h=void 0===c||c,d=Ft(t),f=Ft(n),_=function(e){return d?un(t,this)(e):e},p=function(e){return f?un(n,this)(e):e};if(mn(i)){var m=i.get,g=i.set,v=Ft(m),y=Ft(g);return!v&&d&&wn("You are trying to set getter via @accessor on "+r+" without getter. That's not a good idea."),!y&&f&&wn("You are trying to set setter via @accessor on  "+r+" without setter. That's not a good idea."),{get:v||d?function(){var e=this,t=un(_,this),n=function(){return v?un(m,e)():void 0};return(o?[t,n]:[n,t]).reduce((function(e,t){return t(e)}),void 0)}:void 0,set:y||f?function(e){var t=this,n=un(p,this),r=function(e){return y?un(g,t)(e):e};return(a?[n,r]:[r,n]).reduce((function(e,t){return t(e)}),e)}:void 0,configurable:l,enumerable:h}}if(vn(i)){var b=i.initializer,w=void 0,E=!1;return{get:function(){var e=un(_,this);return E||(w=un(b,this)(),E=!0),e(w)},set:function(e){var t=un(p,this);return w=a?t(e):e,E=!0,a||t(w),w},configurable:l,enumerable:h}}var S=(i||{}).value;return{get:function(){return un(_,this)(S)},set:function(e){var t=un(p,this);return S=a?t(e):e,a||t(S),S},configurable:l,enumerable:h}}}function Tn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("@before accept at least one parameter. If you don't need to preprocess before your function, do not add @before decorators");if(t.length>2&&pn(t[2]))throw new Error("You may use @before straightly, @before return decorators, you should call it before you set it as decorator.");for(var r=t.length-1;r>-1;r--)if(!Ft(t[r]))throw new TypeError("@before only accept function parameter");return function(e,n,r){var i=r||{},o=i.value,s=i.configurable,a=i.enumerable,u=i.writable;if(!Ft(o))throw new TypeError('@before can only be used on function, please check the property "'+n+'" is a method or not.');return{value:function(){for(var e=this,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=t.reduce((function(t,n){var r=un(n,e).apply(void 0,fn(t));return void 0===r?t:Ut(r)?r:[r]}),r);return un(o,this).apply(void 0,fn(s))},configurable:s,enumerable:a,writable:u}}}function kn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("@after accept at least one parameter. If you don't need to preprocess after your function, do not add @after decorators");if(t.length>2&&pn(t[2]))throw new Error("You may have used @after straightly. @after return decorators. You should call it before you use it as decorators");var r=bn(t,"@after only accept function parameter");return function(e,t,n){var i=n||{},o=i.value,s=i.configurable,a=i.enumerable,u=i.writable;if(!Ft(o))throw new TypeError('@after can only be used on function, please checkout your property "'+t+'" is a method or not.');return{value:function(){var e=un(o,this).apply(void 0,arguments);return un(r,this)(e)},configurable:s,enumerable:a,writable:u}}}function Cn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("@initialize accept at least one parameter. If you don't need to initialize your value, do not add @initialize.");if(t.length>2&&pn(t[2]))throw new Error("You may use @initialize straightly, @initialize return decorators, you need to call it");var r=bn(t,"@initialize only accept function parameter");return function(e,t,n){if(void 0===n)return{value:un(r,e)(),configurable:!0,writable:!0,enumerable:!0};if(mn(n)){var i=!1;return On({get:function(e){return i?e:un(r,this)(e)},set:n.set?function(e){return i=!0,e}:void 0})(e,t,n)}if(vn(n)){var o=n.initializer;return{initializer:function(){return un(r,this)(un(o,this)())},configurable:n.configurable,writable:n.writable,enumerable:n.enumerable}}return{value:un(r,this)(n.value),writable:n.writable,configurable:n.configurable,enumerable:n.enumerable}}}var xn=Object.getOwnPropertyDescriptor,Mn=Object.defineProperty;function Dn(e,t,n,r,i,o){var s=n.configurable,a=n.enumerable,u=o.force,l=o.omit,c=xn(r,i);if(void 0!==c){if(l)return;if(!u)throw new Error('"'+t+'" is an existing property, if you want to override it, please set "force" true in @alias option.');if(!c.configurable)throw new Error('property "'+t+'" is unconfigurable.')}Mn(r,i,{get:function(){return e[t]},set:function(n){return e[t]=n,t},configurable:s,enumerable:a})}var In=Object.defineProperty;function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.requirement,r=t.customArgs,i=void 0!==r&&r;return function(){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=s.exclude,u=void 0===a?[]:a,l=s.include,c=void 0===l?[]:l,h=s.construct,d=void 0!==h&&h,f=s.self,_=void 0!==f&&f;if(!Ut(u))throw new TypeError("options.exclude must be an array");if(!Ut(c))throw new TypeError("options.include must be an array");return function(t){var o=Ft(t);if(!_&&!o)throw new TypeError("@"+e.name+"Class can only be used on class");if(_&&Ht(t))throw new TypeError("@"+e.name+"Class must be used on non-primitive type value in 'self' mode");var s=_?t:t.prototype;if(Nt(s))throw new Error("The prototype of the "+t.name+" is empty, please check it");var a=Ln(s);An(s).concat(c).forEach((function(t){var l=a[t];"constructor"===t&&!d||_&&o&&["name","length","prototype"].indexOf(t)>-1||u.indexOf(t)>-1||Ft(n)&&!1===n(s,t,l,{self:_})||In(s,t,(i?e.apply(void 0,fn(r)):e)(s,t,l))}))}}}var Bn=Pn(Fn,{requirement:function(e,t,n){return gn(n)&&Ft(n.value)}}),Nn=void 0;function Un(e,t){if("undefined"==typeof WeakMap)throw new Error("Using @autobind on "+t.name+"() requires WeakMap support due to its use of super."+t.name+"()");Nn||(Nn=new WeakMap),!1===Nn.has(e)&&Nn.set(e,new WeakMap);var n=Nn.get(e);return!1===n.has(t)&&n.set(t,un(t,e)),n.get(t)}function Fn(e,t,n){if(1===arguments.length)return Bn()(e);var r=n||{},i=r.value,o=r.configurable;if(!Ft(i))throw new TypeError('@autobind can only be used on functions, not "'+i+'" in '+(void 0===i?"undefined":cn(i))+' on property "'+t+'"');var s=e.constructor;return{configurable:o,enumerable:!1,get:function(){var n=this,r=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.call.apply(i,[n].concat(fn(t)))};return this===e||this.constructor!==s&&Object.getPrototypeOf(this).constructor===s?i:this.constructor!==s&&t in this.constructor.prototype?Un(this,i):(Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!1,value:r}),r)},set:yn(t)}}var jn=Object.defineProperty,Gn=Object.getOwnPropertyDescriptor,Vn=Object.defineProperty;function zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.other;if(!Ft(e)&&!Kt(e)&&!Vt(e))throw new TypeError("@waitUntil only accept Function, Promise or String");return function(t,r,i){var o=i||{},s=o.value,a=o.configurable;if(!Ft(s))throw new TypeError("@waituntil can only be used on function, but not "+s+' on property "'+r+'"');var u=!1,l=[],c=Kt(e)?function(){return e}:Ft(e)?e:function(){var t=e.split("."),r=t.slice(-1),i=Ht(n)?this:n;if(!u){var o=ln(i,t.slice(0,-1));if(Nt(o))return o;var s=Gn(o,r),a=function(e){if(!0===e)for(;l.length>0;)l[0](),l.shift();return e},c=pn(s)?On({set:a})(o,r,s):On({set:a})(o,r,{value:void 0,configurable:!0,enumerable:!0,writable:!0});Vn(o,r,c),u=!0}return ln(i,t)};return{value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=un(s,this),o=un(c,this).apply(void 0,n);return Kt(o)?Promise.resolve(o).then((function(){return un(s,e).apply(void 0,n)})):!0===o?un(s,this).apply(void 0,n):new Promise((function(e){l.push((function(){i.apply(void 0,n),e()}))}))},enumerable:!1,configurable:a,writable:!1}}}var Kn=Object.defineProperty,Hn=Object.defineProperty;function Wn(e,t,n){return void 0===n?{value:void 0,enumerable:!1,configurable:!0,writable:!0}:(n.enumerable=!1,n)}var qn=Object.defineProperty,$n=Object.getOwnPropertyDescriptor;function Yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.self,i=void 0!==r&&r,o=n.omit,s=void 0!==o&&o,a=Ft(t);if(a||Ut(t)){if(!Ft(e))throw new TypeError("If you want to decorator class, you must pass it a legal class");if(a)t(e);else for(var u=0,l=t.length;u<l;u++){var c=t[u];if(!Ft(c))throw new TypeError("If you want to decorate an class, you must pass it function or array of function");c(e)}return e}if(!i&&!Ft(e))throw new TypeError("applyDecorators only accept class as first arguments. If you want to modify instance, you should set options.self true.");if(i&&Ht(e))throw new TypeError("We can't apply docorators on a primitive value, even in self mode");if(!jt(t))throw new TypeError("applyDecorators only accept object as second arguments");var h=i?e:e.prototype;if(Nt(h))throw new Error("The class muse have a prototype, please take a check");for(var d in t){var f=t[d],_=Ut(f)?f:[f],p=void 0;try{p=Rn.apply(void 0,fn(_))}catch(e){throw wn(e&&e.message),new Error("The decorators set on props must be Function or Array of Function")}var m=$n(h,d);if(!m||m.configurable)qn(h,d,p(h,d,m));else if(!s)throw new Error(d+" of "+h+" is unconfigurable")}return e}var Xn=["push","pop","unshift","shift","splice","sort","reverse"];function Jn(e,t,n){var r,i=n.diff,o=n.operationPrefix,s={},a=!1,u=new Proxy(e,{get:function(e,n,r){var u=e[n];if(Ut(e)&&Xn.indexOf(n)>-1)return function(){a=!0,un(u,r).apply(void 0,arguments),a=!1,t()};if(!0===s[n])return u;if(jt(u)||Ut(u)){var l=s[n]||Jn(u,t,{diff:i,operationPrefix:o});return s[n]=l,l}return s[n]=!0,u},set:function(e,n,r){var u=e[n],l=jt(r)||Ut(r)?Jn(r,t,{diff:i,operationPrefix:o}):r;return e[n]=l,s[n]=!0,a||i&&u===l||t(),!0},deleteProperty:function(e,n){return delete e[n],delete s[n],a||t(),!0}}),l=(hn(r={},o+"set",[Cn((function(e){return function(e,t){u[e]=t}})),Wn]),hn(r,o+"del",[Cn((function(e){return function(e){delete u[e]}})),Wn]),r);return Yn(u,l,{self:!0}),u}function Qn(e,t,n){var r,i=this,o=n.operationPrefix,s=n.diff,a={},u=!1;function l(e){var n=void 0;return e.reduce((function(e,r){return e[r]=[On({set:function(e){return n=this[r],e}}),On({get:function(e){return a[r]||((jt(e)||Ut(e))&&Qn(e,t,{operationPrefix:o,diff:s}),a[r]=!0),e},set:function(e){return(jt(e)||Ut(e))&&Qn(e,t,{operationPrefix:o,diff:s}),a[r]=!0,u||s&&n===e||t(),e}},{preSet:!1})],e}),{})}var c=l(An(e));if(Yn(e,c,{self:!0,omit:!0}),Ut(e)){var h=Xn.reduce((function(n,r){return n[r]=[Cn((function(n){return n=Ft(n)?n:Array.prototype[r],function(){var r=e.length;if(u=!0,un(n,e).apply(void 0,arguments),u=!1,r<e.length){var i=new Array(e.length-r).fill(1).map((function(e,t){return(t+r).toString()})),o=l(i);Yn(e,o,{self:!0,omit:!0})}t()}})),Wn],n}),{});Yn(e,h,{self:!0})}var d=(hn(r={},o+"set",[Cn((function(t){return function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=o.disable,a=o.isNewVal;if(a=a||-1===An(e).indexOf(n),Ft(t)&&un(t,i)(n,r,{disable:!0,isNewVal:a}),a){var u=l([n]);Yn(e,u,{self:!0,omit:!0})}s||(e[n]=r)}})),Wn]),hn(r,o+"del",[Cn((function(n){return function(r){Ft(n)?un(n,i)(r):delete e[r],t()}})),Wn]),r);return Yn(e,d,{self:!0}),e}var Zn=Object.preventExtensions;function er(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.other,r=t.backup;if(!Ft(e)&&!Vt(e))throw new TypeError("@runnable only accept Function or String");return function(t,i,o){var s=o||{},a=s.value,u=s.configurable;if(!Ft(a))throw new TypeError("@runnable can only be used on method, but not "+a+' on property "'+i+'".');var l=Ft(e)?e:function(){var t=e.split(".");return ln(Ht(n)?this:n,t)};return r=Ft(r)?r:function(){},{value:function(){return!0===un(l,this).apply(void 0,arguments)?un(a,this).apply(void 0,arguments):un(r,this).apply(void 0,arguments)},enumerable:!1,configurable:u,writable:!1}}}var tr=Pn(Tn,{requirement:function(e,t,n){return gn(n)&&Ft(n.value)},customArgs:!0}),nr=Pn(kn,{requirement:function(e,t,n){return gn(n)&&Ft(n.value)},customArgs:!0}),rr=Pn(er,{requirement:function(e,t,n){return gn(n)&&Ft(n.value)},customArgs:!0}),ir=Pn(zn,{requirement:function(e,t,n){return gn(n)&&Ft(n.value)},customArgs:!0});e.accessor=On,e.before=Tn,e.after=kn,e.readonly=function(e,t,n){return void 0===n?(wn('You are using @readonly on an undefined property "'+t+'". This property will become a readonly undefined forever, which is meaningless.'),{value:void 0,writable:!1,enumerable:!0,configurable:!0}):mn(n)?(n.set=void 0,n):(n.writable=!1,n)},e.alias=function(e,t,n){if(2===arguments.length?Vt(e)&&(n=t,t=e,e=void 0):1===arguments.length&&(t=e,e=void 0),!Vt(t))throw new TypeError("@alias need a string as a key to find the porperty to set alias on");var r="If you want to use @alias to set alias on other instance, you must pass in a legal instance";if(void 0!==e&&Ht(e))throw new TypeError(r);var i=jt(n)?n:{force:!1,omit:!1},o=i.force,s=i.omit;return function(n,i,a){function u(e,t,n){var i=Ht(e)?t:e,o=n.split("."),s=o.slice(-1),a=dn(s,1)[0];if(Ht(i=ln(i,o.slice(0,-1),{throwError:!0})))throw new TypeError(r);return{target:i,name:a}}if(vn(a=a||{value:void 0,configurable:!0,writable:!0,enumerable:!0}))return Cn((function(n){var r=u(e,this,t),l=r.target,c=r.name;return Dn(this,i,a,l,c,{force:o,omit:s}),n}))(n,i,a);if(mn(a)){var l=void 0,c=function(n){if(l)return n;var r=u(e,this,t),c=r.target,h=r.name;return Dn(this,i,a,c,h,{force:o,omit:s}),l=!0,n};return On({get:c,set:c})(n,i,a)}var h=u(e,n,t),d=h.target,f=h.name;return Dn(n,i,a,d,f,{force:o,omit:s}),a}},e.autobind=Fn,e.frozen=function(e,t,n){if(void 0===n)return wn("You are using @frozen on an undefined property. This property will become a frozen undefined forever, which is meaningless"),{value:void 0,writable:!1,enumerable:!1,configurable:!1};if(n.enumerable=!1,n.configurable=!1,mn(n)){var r=n.get;return n.set=void 0,Ft(r)?{get:function(){var e=un(r,this)();return jn(this,t,{value:e,writable:!1,configurable:!1,enumerable:!1}),e},set:void 0,configurable:!1,enumerable:!1}:void wn("You are using @frozen on one accessor descriptor without getter. This property will become a frozen undefined finally.Which maybe meaningless.")}return n.writable=!1,n},e.initialize=Cn,e.waituntil=zn,e.lazyInit=function(e,t,n){if(void 0===n)throw new TypeError("@lazyInit cannot be apply on undefined property.");if(!Ft(n.initializer))return wn('@lazyInit can only be used on property, but not propery "'+t+'" which may be methods or getter/setter.'),n;var r=n.initializer,i=n.configurable,o=n.enumerable,s=n.writable;return{get:function(){var e=un(r,this)();return Kn(this,t,{value:e,configurable:i,enumerable:o,writable:s}),e},set:yn(t),configurable:i,enumerable:o}},e.lock=function(e,t,n){if(void 0===n)return wn('You are using @lock on an undefined property "'+t+'". This property will become a lock undefined forever, which is meaningless.'),{value:void 0,writable:!1,enumerable:!0,configurable:!1};if(n.configurable=!1,mn(n)){var r=n.get;return n.set=void 0,Ft(r)?{get:function(){var e=un(r,this)();return Hn(this,t,{value:e,writable:!1,configurable:!1,enumerable:n.enumerable}),e},set:void 0,configurable:!1,enumerable:n.enumerable}:void wn("You are using @lock on one accessor descriptor without getter. This property will become a lock undefined finally.Which maybe meaningless.")}return n.writable=!1,n},e.watch=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=jt(t[t.length-1])?t[t.length-1]:{},i=r.deep,o=r.omit,s=r.other,a=r.operationPrefix,u=void 0===a?"__":a,l=r.diff,c=void 0===l||l,h=r.proxy;if("function"!=typeof Proxy&&(h=!1,wn("You browser do not support Proxy, we will fall back into observe mode.")),!t.length)throw new TypeError("You must pass a function or a string to find the hanlder function.");if(void 0!==s&&Ht(s))throw new TypeError("If you want us to trigger function on the other instance, you must pass in a legal instance");if(!Vt(u))throw new TypeError("operationPrefix must be an string");return function(e,n,r){var a=t.reduce((function(n,r,i){if(!Vt(r)&&!Ft(r)){if(!i||i!==t.length-1)throw new TypeError("You can only pass function or string as handler");return n}return n.push(Vt(r)?function(t,n){var i=ln(s||e,r);if(Ft(i))return un(i,this)(t,n);if(!o)throw new Error("You pass in a function for us to trigger, please ensure the property to be a function or set omit flag true")}:r),n}),[]),l=function(e,t){var n=this;a.forEach((function(r){return un(r,n)(e,t)}))},d=!1,f=void 0,_=void 0,p=void 0;return Rn(On({set:function(e){var t=this;f=this[n],p=void 0;var r=function(){return un(l,t)(_,f)};return i&&(jt(e)||Ut(e))?h?Jn(e,r,{diff:c,operationPrefix:u}):Qn(e,r,{operationPrefix:u,diff:c}):e},get:function(e){var t=this;if(p)return p;if(!d){d=!0;var n=function(){return un(l,t)(_,f)};if(i&&(jt(e)||Ut(e))){if(h)return p=Jn(e,n,{diff:c,operationPrefix:u}),f=p,_=p,p;Qn(e,n,{operationPrefix:u,diff:c})}f=e,_=e}return e}},{preSet:!0}),On({set:function(e){return _=e,c&&f===e||un(l,this)(_,f),f=e,e}},{preSet:!1}))(e,n,r)}},e.nonextendable=function(e,t,n){if(void 0===n)throw new Error('@nonextendable could not handle undefined property "'+t+'".');return Cn((function(e){return Zn(e),e}))(e,t,n)},e.runnable=er,e.enumerable=function(e,t,n){return void 0===n?{value:void 0,enumerable:!0,configurable:!0,writable:!0}:(n.enumerable=!0,n)},e.nonenumerable=Wn,e.configurable=function(e,t,n){return void 0===n?{value:void 0,enumerable:!0,configurable:!0,writable:!0}:(n.configurable=!0,n)},e.nonconfigurable=function(e,t,n){return void 0===n?{value:void 0,enumerable:!0,configurable:!1,writable:!0}:(n.configurable=!1,n)},e.initString=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Vt(t[0])?t.shift():"";return t.unshift((function(e){return Vt(e)?e:r})),Cn.apply(void 0,t)},e.initBoolean=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!!zt(t[0])&&t.shift();return t.unshift((function(e){return zt(e)?e:r})),Cn.apply(void 0,t)},e.initArray=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Ut(t[0])?t.shift():[];return t.unshift((function(e){return Ut(e)?e:r})),Cn.apply(void 0,t)},e.initNumber=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Gt(t[0])?t.shift():0;return t.unshift((function(e){return Gt(e)?e:r})),Cn.apply(void 0,t)},e.alwaysString=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Vt(t[0])?t.shift():"";return t.unshift((function(e){return Vt(e)?e:r})),On({set:t,get:t})},e.alwaysBoolean=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!!zt(t[0])&&t.shift();return t.unshift((function(e){return zt(e)?e:r})),On({set:t,get:t})},e.alwaysArray=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Ut(t[0])?t.shift():[];return t.unshift((function(e){return Ut(e)?e:r})),On({set:t,get:t})},e.alwaysNumber=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Gt(t[0])?t.shift():0;return t.unshift((function(e){return Gt(e)?e:r})),On({set:t,get:t})},e.autobindClass=Bn,e.beforeClass=tr,e.afterClass=nr,e.runnableClass=rr,e.waituntilClass=ir,e.applyDecorators=Yn,e.classify=Pn,e.getOwnKeys=An,e.getOwnPropertyDescriptors=Ln,e.isDescriptor=pn,e.isAccessorDescriptor=mn,e.isInitializerDescriptor=vn,e.isDataDescriptor=gn,Object.defineProperty(e,"__esModule",{value:!0})}(t)},ef08:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},f72c:function(e,t,n){"use strict";n.r(t);n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("841c");var r=n("554d"),i={data:function(){return{url:"",drawer:!1,modal:!1,diy:!1}},created:function(){this.$nextTick((function(){Object(r.a)("https://bp-live.bestv.com.cn:443/live/besthhxd.m3u8?auth_key=1621659604-213c867025b54b6ba7a563a1c8c50475-0-ac04b7466df7a807ec3810d041acb072",!0)}))},methods:{handleRender:function(){var e=this;this.$Modal.confirm({render:function(t){return t("Input",{props:{value:e.url,autofocus:!0,placeholder:"请输入播放地址,支持FLV|M3U|MP4格式"},on:{input:function(e){Object(r.a)(e,!1)}}})}})},getUrl:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n&&Object(r.a)(unescape(n[2]),!1),null}}},o=(n("b258"),n("0c7c")),s=Object(o.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"player"},[t("div",{staticClass:"list",on:{click:this.handleRender}},[t("div",{staticClass:"button"},[this._v("【 自定播放地址或播放列表 】")])]),t("section",{staticClass:"dplayer",attrs:{id:"wrapper"}})])}),[],!1,null,null,null);t.default=s.exports},f893:function(e,t,n){e.exports={default:n("8119"),__esModule:!0}},faa1:function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s,a;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function _(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=m(u,l);for(n=0;n<l;++n)o(c[n],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return _(this,e,!0)},a.prototype.rawListeners=function(e){return _(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},faf5:function(e,t,n){e.exports=!n("0bad")&&!n("4b8b")((function(){return 7!=Object.defineProperty(n("05f5")("div"),"a",{get:function(){return 7}}).a}))},fc5e:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},fcd4:function(e,t,n){t.f=n("cc15")},fed5:function(e,t){t.f=Object.getOwnPropertySymbols}}]);